{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/img/or-gate/100.png","webpack:///./src/assets/img/grn-btn/on/nsew.svg","webpack:///./src/assets/img/wire/on/nsew-both.svg","webpack:///./src/assets/img/wire/on/nsew-horiz.svg","webpack:///./src/assets/img/not-gate/1.png","webpack:///./src/assets/img/wire/on/sw.svg","webpack:///./src/assets/img/split-gate/0.png","webpack:///./src/assets/img/blu-lgt/on/w.svg","webpack:///./src/assets/img/pnk-btn/off/nsew.svg","webpack:///./src/assets/img/wire/off/nw.svg","webpack:///./src/assets/img/wire/off/ew.svg","webpack:///./src/assets/img/and-gate/111.png","webpack:///./src/assets/img/wire/on/nw.svg","webpack:///./src/assets/img/caret-up.svg","webpack:///./src/store/modules/gates.js","webpack:///./src/store/modules/levels.js","webpack:///./src/store/modules/GameBoard.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?de2e","webpack:///./src/components/board/Board.vue?ca64","webpack:///./src/components/board/Square.vue?50e2","webpack:///src/components/board/Square.vue","webpack:///./src/components/board/Square.vue?96fd","webpack:///./src/components/board/Square.vue","webpack:///src/components/board/Board.vue","webpack:///./src/components/board/Board.vue?45df","webpack:///./src/components/board/Board.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?bcb1","webpack:///./src/assets/img/split-gate/1.png","webpack:///./src/assets/img/org-lgt/off/w.svg","webpack:///./src/assets/img/pnk-btn/on/nsew.svg","webpack:///./src/assets/img/or-gate/101.png","webpack:///./src/assets/img/check.svg","webpack:///./src/assets/img/and-gate/100.png","webpack:///./src/assets/img/wire/on/ew.svg","webpack:///./src/assets/img/or-gate/000.png","webpack:///./src/assets/img/and-gate/010.png","webpack:///./src/assets/img/blu-lgt/off/s.svg","webpack:///./src/assets/img/wire/off/sw.svg","webpack:///./src/assets/img/x.svg","webpack:///./src/assets/img/grn-btn/off/nsew.svg","webpack:///./src/assets/img/org-lgt/on/w.svg","webpack:///./src/assets/img/wire/off/nsew.svg","webpack:///./src/assets/img/wire/off/ns.svg","webpack:///./src/assets/img/and-gate/110.png","webpack:///./src/assets/img/wire/on/ns.svg","webpack:///./src/assets/img/or-gate/111.png","webpack:///./src/assets/img/or-gate/010.png","webpack:///./src/assets/img/or-gate/011.png","webpack:///./src/assets/img/or-gate/001.png","webpack:///./src/assets/img/not-gate/0.png","webpack:///./src/assets/img/and-gate/101.png","webpack:///./src/assets/img/wire/off/se.svg","webpack:///./src/assets/img/and-gate/001.png","webpack:///./src/assets/img/blu-lgt/off/w.svg","webpack:///./src/assets/img/wire/on/se.svg","webpack:///./src/assets/img/wire/on/ne.svg","webpack:///./src/assets/img/caret-down.svg","webpack:///./src/assets/img/wire/on/nsew-vert.svg","webpack:///./src/assets/img/or-gate/110.png","webpack:///./src/assets/img/blu-lgt/on/s.svg","webpack:///./src/assets/img/and-gate/000.png","webpack:///./src/assets/img/blank-square.svg","webpack:///./src/assets/img/wire/off/ne.svg","webpack:///./src/assets/img/and-gate/011.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","SPLIT","cl","inputs","rowDiff","colDiff","isOn","outputs","evaluate","on","this","forEach","out","concat","NOT","isOutOn","OR","map","input","join","indexOf","AND","gates","levels","title","squares","2","7","conn","5","tools","objective","score","GATE","sideLength","state","board","boardHeight","boardShiftX","boardShiftY","boardWidth","currentLevel","isLoading","mousePath","level","viewport","getters","findSecond","_ref","rowIx","colIx","diffs","find","_ref2","_ref3","slicedToArray","row","sq","aligns","some","_ref4","rd","cd","mutations","appendMousePath","_ref5","canDraw","first","second","getCl","_ref6","stackLength","stack","_state$mousePath$stac","lastRowIx","lastColIx","lastSq","assign_default","tmp","horizOn","vertOn","Vue","set","end","evaluateBoard","_evaluateBoard","asyncToGenerator","regeneratorRuntime","mark","_callee8","resolve","evaluateSquare","wrap","_context8","prev","next","_ref8","_callee3","_ref7","lastState","currentState","delay","_context3","abrupt","_ref9","_callee","_context","promise_default","a","setTimeout","stop","arguments","replace","_ref10","all","_ref11","_callee2","_context2","_x4","_x3","_ref12","_callee7","_context7","_ref13","_callee6","_context6","_ref15","_callee4","_ref14","_ref16","_context4","_x9","_ref18","_callee5","_ref17","_context5","_x10","_x7","_x8","_x5","_x6","_x","_x2","finalizeMousePath","doesTerminate","_ref19","initializeMousePath","_ref20","start","panLeft","panRight","width","panUp","panDown","height","render","vertBoxes","Math","ceil","horizBoxes","col","isBlank","extraX","extraY","togglePower","_ref21","actions","loadViewport","_ref22","_ref23","commit","mouseDown","_ref24","_ref25","_ref26","_ref27","_ref28","mouseEnter","_ref29","_ref30","_state$mousePath$stac2","abs","mouseUp","_ref31","pos","nextLevel","_ref32","alert","pan","_ref33","direction","removePath","_ref34","_ref35","clearSquare","_ref36","totalRowDiff","totalColDiff","isFirst","output","offsets","_ref37","_ref38","leftSq","aboveSq","testCase","_testCase","_callee9","_ref39","_ref40","objectiveIx","test","isDiff","bulbs","_context9","substr","every","shouldBeOn","_x11","_x12","GameBoard","namespaced","use","Vuex","store","Store","keys_default","moduleName","init","dispatch","Appvue_type_template_id_f95d6268_render","_vm","_h","$createElement","_c","_self","attrs","id","staticRenderFns","Boardvue_type_template_id_7c0c3e5a_render","ref","staticClass","style","mouseup","$event","_l","square","mouseLeave","rightClick","click","toggleMenuBar","_v","menu","isToolboxOpen","src","tool","index","currentTool","_e","isObjectiveOpen","_s","isComplete","testAll","class","isControlsOpen","_m","Boardvue_type_template_id_7c0c3e5a_staticRenderFns","Squarevue_type_template_id_21dcf8b9_render","contextmenu","preventDefault","$emit","mousedown","mouseenter","mouseleave","stopPropagation","staticStyle","visibility","Squarevue_type_template_id_21dcf8b9_staticRenderFns","Squarevue_type_script_lang_js_","props","board_Squarevue_type_script_lang_js_","component","componentNormalizer","Square","Boardvue_type_script_lang_js_","components","currentSquare","isCtrl","computed","objectSpread","vuex_esm","created","document","addEventListener","keyDown","beforeDestroy","removeEventListener","mounted","$refs","getBoundingClientRect","methods","ev","substring","$store","vue_runtime_esm","undefined","scroll","thresh","deltaX","deltaY","_test","_testAll","k","_this","board_Boardvue_type_script_lang_js_","Board_component","Board","Appvue_type_script_lang_js_","src_Appvue_type_script_lang_js_","App_component","App","config","productionTip","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,EAAA,GACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAGAe,KAAAhB,GAEA,MAAAO,EAAAC,OACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,GAAA,IAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,EAAA,GAKApB,EAAA,CACAqB,IAAA,GAGAZ,EAAA,GAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,GAAA,CACAK,EAAAL,EACAgC,GAAA,EACAF,QAAA,IAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,EAAA,CAA0CI,YAAA,EAAAC,IAAAJ,KAK1CX,EAAAgB,EAAA,SAAAZ,GACA,qBAAAa,eAAAC,aACAlC,OAAA6B,eAAAT,EAAAa,OAAAC,YAAA,CAAwDC,MAAA,WAExDnC,OAAA6B,eAAAT,EAAA,cAAiDe,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,kBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAvC,OAAAwC,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAvC,OAAA6B,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAS,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAtB,GACA,IAAAM,EAAAN,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,YAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAgB,EAAAC,GAAsD,OAAA7C,OAAAC,UAAAC,eAAAC,KAAAyC,EAAAC,IAGtD7B,EAAA8B,EAAA,IAEA,IAAAC,EAAAC,OAAA,gBAAAA,OAAA,oBACAC,EAAAF,EAAAhD,KAAA2C,KAAAK,GACAA,EAAAhD,KAAAX,EACA2D,IAAAG,QACA,QAAAvD,EAAA,EAAgBA,EAAAoD,EAAAlD,OAAuBF,IAAAP,EAAA2D,EAAApD,IACvC,IAAAU,EAAA4C,EAIA1C,EAAAR,KAAA,qBAEAU,qECtJAY,EAAAD,QAAiBJ,EAAA8B,EAAuB,+CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,8CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,mDCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,sDCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,6CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,4CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,2CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,6CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,gDCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,8CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,8CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,+CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,8CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,yRCClCK,aAAQ,CACZC,GAAI,eACJZ,OAFY,WAGV,MAAO,CACLY,GAAI,eACJC,OAAQ,CACN,CAAEC,QAAS,EAAGC,SAAU,EAAGC,MAAM,IAEnCC,QAAS,CACP,CAAEH,SAAU,EAAGC,QAAS,EAAGC,MAAM,GACjC,CAAEF,QAAS,EAAGC,QAAS,EAAGC,MAAM,GAChC,CAAEF,QAAS,EAAGC,QAAS,EAAGC,MAAM,IAElCE,SAVK,WAWH,IAAMC,EAAKC,KAAKP,OAAO,GAAGG,KAAO,IAAM,IACvCI,KAAKH,QAAQI,QAAQ,SAAAC,GAAG,OAAIA,EAAIN,KAAe,MAAPG,IACxCC,KAAKR,GAAL,cAAAW,OAAwBJ,QAM1BK,EAAM,CACVZ,GAAI,aACJZ,OAFU,WAGR,MAAO,CACLY,GAAI,aACJC,OAAQ,CACN,CAAEC,QAAS,EAAGC,SAAU,EAAGC,MAAM,IAEnCC,QAAS,CACP,CAAEH,QAAS,EAAGC,QAAS,EAAGC,MAAM,IAElCE,SARK,WASH,IAAMO,EAAUL,KAAKH,QAAQ,GAAGD,MAAQI,KAAKP,OAAO,GAAGG,KACvDI,KAAKR,GAAL,YAAAW,OAAsBE,EAAU,IAAM,SAMxCC,EAAK,CACTd,GAAI,cACJZ,OAFS,WAGP,MAAO,CACLY,GAAI,cACJC,OAAQ,CACN,CAAEC,SAAU,EAAGC,QAAS,EAAGC,MAAM,GACjC,CAAEF,QAAS,EAAGC,SAAU,EAAGC,MAAM,GACjC,CAAEF,QAAS,EAAGC,QAAS,EAAGC,MAAM,IAElCC,QAAS,CACP,CAAEH,QAAS,EAAGC,QAAS,EAAGC,MAAM,IAElCE,SAVK,WAWH,IAAMN,EAAKQ,KAAKP,OAAOc,IAAI,SAAAC,GAAK,OAAIA,EAAMZ,KAAO,IAAM,MAAKa,KAAK,IACjET,KAAKH,QAAQ,GAAGD,KAAOJ,EAAGkB,QAAQ,MAAQ,EAC1CV,KAAKR,GAAL,WAAAW,OAAqBX,OAMvBmB,EAAM,CACVnB,GAAI,eACJZ,OAFU,WAGR,MAAO,CACLY,GAAI,eACJC,OAAQ,CACN,CAAEC,SAAU,EAAGC,QAAS,EAAGC,MAAM,GACjC,CAAEF,QAAS,EAAGC,SAAU,EAAGC,MAAM,GACjC,CAAEF,QAAS,EAAGC,QAAS,EAAGC,MAAM,IAElCC,QAAS,CACP,CAAEH,QAAS,EAAGC,QAAS,EAAGC,MAAM,IAElCE,SAVK,WAWH,IAAMN,EAAKQ,KAAKP,OAAOc,IAAI,SAAAC,GAAK,OAAIA,EAAMZ,KAAO,IAAM,MAAKa,KAAK,IACjET,KAAKH,QAAQ,GAAGD,KAAc,QAAPJ,EACvBQ,KAAKR,GAAL,YAAAW,OAAsBX,OAMfoB,EAAA,CACbrB,QACAa,MACAE,KACAK,OCxFaE,EAAA,CACb,CACEC,MAAO,gBACPC,QAAS,CACPC,EAAG,CACDC,EAAG,CAAEzB,GAAI,gBAAiB0B,KAAM,CAAExB,QAAS,EAAGC,QAAS,KAEzDwB,EAAG,CACDH,EAAG,CAAExB,GAAI,iBAGb4B,MAAO,GAEPC,UAAW,CACT,CAAE7B,GAAI,CAAC,eAAgB,gBAAiB8B,MAAO,MAC/C,CAAE9B,GAAI,CAAC,cAAe,eAAgB8B,MAAO,QAGjD,CACER,MAAO,gBACPC,QAAS,CACPC,EAAG,CACDC,EAAG,CAAEzB,GAAI,gBAAiB0B,KAAM,CAAExB,QAAS,EAAGC,QAAS,KAEzDwB,EAAG,CACDH,EAAG,CAAExB,GAAI,iBAGb4B,MAAO,CACLG,EAAKnB,KAEPiB,UAAW,CACT,CAAE7B,GAAI,CAAC,eAAgB,eAAgB8B,MAAO,MAC9C,CAAE9B,GAAI,CAAC,cAAe,gBAAiB8B,MAAO,QAGlD,CACER,MAAO,OACPC,QAAS,CACPC,EAAG,CACDC,EAAG,CAAEzB,GAAI,gBAAiB0B,KAAM,CAAExB,QAAS,EAAGC,QAAS,KAEzDwB,EAAG,CACDH,EAAG,CAAExB,GAAI,eACT2B,EAAG,CAAE3B,GAAI,iBAGb4B,MAAO,CACLG,EAAKjB,IAEPe,UAAW,CACT,CAAE7B,GAAI,CAAC,eAAgB,eAAgB,gBAAiB8B,MAAO,MAC/D,CAAE9B,GAAI,CAAC,eAAgB,cAAe,eAAgB8B,MAAO,MAC7D,CAAE9B,GAAI,CAAC,cAAe,eAAgB,eAAgB8B,MAAO,MAC7D,CAAE9B,GAAI,CAAC,cAAe,cAAe,eAAgB8B,MAAO,QAGhE,CACER,MAAO,QACPC,QAAS,CACPC,EAAG,CACDC,EAAG,CAAEzB,GAAI,gBAAiB0B,KAAM,CAAExB,QAAS,EAAGC,QAAS,KAEzDwB,EAAG,CACDH,EAAG,CAAExB,GAAI,eACT2B,EAAG,CAAE3B,GAAI,iBAGb4B,MAAO,CACLG,EAAKnB,IACLmB,EAAKjB,IAEPe,UAAW,CACT,CAAE7B,GAAI,CAAC,eAAgB,eAAgB,gBAAiB8B,MAAO,MAC/D,CAAE9B,GAAI,CAAC,eAAgB,cAAe,gBAAiB8B,MAAO,MAC9D,CAAE9B,GAAI,CAAC,cAAe,eAAgB,gBAAiB8B,MAAO,MAC9D,CAAE9B,GAAI,CAAC,cAAe,cAAe,eAAgB8B,MAAO,SC5E5DE,EAAa,IAIbC,EAAQ,CACZC,MAAO,GACPC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,WAAY,EACZC,aAAc,EACdC,WAAW,EACXC,UAAW,KACXlB,QAAS,GACTmB,MAAO,KACPC,SAAU,IAGNC,EAAU,GAQhB,SAASC,EAATC,GAAsC,IAAhBC,EAAgBD,EAAhBC,MAAOC,EAASF,EAATE,MACrBC,EAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,EAAE,EAAE,GAAG,CAAC,EAAE,IAAIC,KAAK,SAAAC,GAAwB,IAAAC,EAAAxG,OAAAyG,EAAA,KAAAzG,CAAAuG,EAAA,GAAtBjD,EAAsBkD,EAAA,GAAbjD,EAAaiD,EAAA,GAC/DE,EAAMrB,EAAMV,QAAQwB,EAAQ7C,GAElC,IAAKoD,EACH,OAAO,EAGT,IAAMC,EAAKD,EAAIN,EAAQ7C,GAEvB,IAAKoD,EACH,OAAO,EAGT,IAAIC,GAAS,EAUb,OARID,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,QAAU,EAEnCsC,EAASD,EAAG7B,KAAKxB,WAAaA,GAAWqD,EAAG7B,KAAKvB,WAAaA,EACrDoD,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,SAAW,IAE3CsC,EAASD,EAAGtD,OAAOwD,KAAK,SAAAC,GAAA,IAAYC,EAAZD,EAAGxD,QAAsB0D,EAAzBF,EAAgBvD,QAAhB,OAAkCD,KAAayD,GAAMxD,KAAayD,KAGrFJ,IAGT,OAAKP,EAIE,CAAE/C,QAAS+C,EAAM,GAAI9C,QAAS8C,EAAM,IAHlC,KAMX,IAAMY,EAAY,CAWhBC,gBAXgB,SAWA7B,EAXA8B,GAW+B,IAAtBhB,EAAsBgB,EAAtBhB,MAAOC,EAAee,EAAff,MAAOtB,EAAQqC,EAARrC,KAC/B6B,EAAKtB,EAAMV,QAAQwB,GAAOC,GAE1BgB,EAAU,WACd,GAAIT,EAAGvD,GAML,GAAIuD,EAAGvD,GAAGkB,QAAQ,aAAe,GACL,IAAvBQ,EAAKuC,MAAM9D,SAAyC,IAAxBuB,EAAKwC,OAAO/D,cAEtC,KAAIoD,EAAGvD,GAAGkB,QAAQ,aAAe,GACZ,IAAvBQ,EAAKuC,MAAM/D,SAAyC,IAAxBwB,EAAKwC,OAAOhE,SAG3C,OAAO,EAIX,OAAO,GAST,IAAIwB,EAAKwC,QAAWF,IAApB,CAIA,IAAMG,EAAQ,SAAAC,GAAuB,IAApBH,EAAoBG,EAApBH,MAAOC,EAAaE,EAAbF,OAClBlE,EAAK,GAkBT,OAjBIiE,EAAM/D,QAAU,GAAKgE,EAAOhE,QAAU,KACxCF,EAAE,GAAAW,OAAMX,EAAN,OAEAiE,EAAM/D,QAAU,GAAKgE,EAAOhE,QAAU,KACxCF,EAAE,GAAAW,OAAMX,EAAN,OAEAiE,EAAM9D,QAAU,GAAK+D,EAAO/D,QAAU,KACxCH,EAAE,GAAAW,OAAMX,EAAN,OAEAiE,EAAM9D,QAAU,GAAK+D,EAAO/D,QAAU,KACxCH,EAAE,GAAAW,OAAMX,EAAN,MAEO,MAAPA,GAAqB,MAAPA,EAChBA,EAAK,KACW,MAAPA,GAAqB,MAAPA,IACvBA,EAAK,MAEP,QAAAW,OAAeX,EAAf,SAGIqE,EAAcpC,EAAMQ,UAAU6B,MAAM7H,OAE1C,GAAI4H,EAAa,KAAAE,EAIXtC,EAAMQ,UAAU6B,MAAMD,EAAc,GAF/BG,EAFMD,EAEbxB,MACO0B,EAHMF,EAGbvB,MAGI0B,EAASzC,EAAMV,QAAQiD,GAAWC,GAkBxC,GAhBAE,IAAcjD,EAAM,CAClBuC,MAAO,CACL/D,QAASsE,EAAYzB,EACrB5C,QAASsE,EAAYzB,GAGvBkB,OAAQrB,EAAW,CAAEE,QAAOC,WAAY,CACtC9C,QAAS6C,EAAQyB,EACjBrE,QAAS6C,EAAQyB,MAQhBT,IACH,OAMEU,EAAO1E,GAAGkB,QAAQ,aAAe,IAEnCwD,EAAOhD,KAAKwC,OAAS,CACnBhE,QAAS6C,EAAQyB,EACjBrE,QAAS6C,EAAQyB,GAGnBC,EAAO1E,GAAKmE,EAAMO,EAAOhD,OAQ7B,IAAM1B,EAAKmE,EAAMzC,GAEjB,GAAK6B,EAAGvD,IAMD,GAAIuD,EAAGvD,GAAGkB,QAAQ,YAAc,GAAKlB,EAAGkB,QAAQ,YAAc,EAAG,CAEtEqC,EAAGqB,IAAMrB,EAAGvD,GACZ,IAAM6E,EAAUtB,EAAGvD,GAAGkB,QAAQ,OAAS,EAAI,KAAO,MAClDqC,EAAGvD,GAAH,4BAAAW,OAAoCkE,QAC/B,GAAItB,EAAGvD,GAAGkB,QAAQ,YAAc,GAAKlB,EAAGkB,QAAQ,YAAc,EAAG,CAEtEqC,EAAGqB,IAAMrB,EAAGvD,GACZ,IAAM8E,EAASvB,EAAGvD,GAAGkB,QAAQ,OAAS,EAAI,KAAO,MACjDqC,EAAGvD,GAAH,kBAAAW,OAA0BmE,EAA1B,oBAdAC,OAAIC,IAAI/C,EAAMV,QAAQwB,GAAQC,EAAO,CACnChD,KACA0B,OACAkD,KAAK,IAcT3C,EAAMQ,UAAUwC,IAAM,CAAElC,QAAOC,SAC/Bf,EAAMQ,UAAU6B,MAAM3H,KAAKsF,EAAMQ,UAAUwC,OAMvCC,cA9IU,eAAAC,EAAAvI,OAAAwI,EAAA,KAAAxI,CAAAyI,mBAAAC,KAAA,SAAAC,EA8IItD,EAAOuD,GA9IX,IAAAC,EAAA,OAAAJ,mBAAAK,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cA+IRJ,EA/IQ,eAAAK,EAAAlJ,OAAAwI,EAAA,KAAAxI,CAAAyI,mBAAAC,KA+IS,SAAAS,EAAAC,GAAA,IAAA9F,EAAAC,EAAA4C,EAAAC,EAAA5C,EAAAmD,EAAA0C,EAAAC,EAAAC,EAAAnF,EAAA,OAAAqE,mBAAAK,KAAA,SAAAU,GAAA,eAAAA,EAAAR,KAAAQ,EAAAP,MAAA,UACrB3F,EADqB8F,EACrB9F,QACAC,EAFqB6F,EAErB7F,QACA4C,EAHqBiD,EAGrBjD,MACAC,EAJqBgD,EAIrBhD,MACA5C,EALqB4F,EAKrB5F,KAEMmD,EAAKtB,EAAMV,QAAQwB,GAAOC,GAE3BO,EAAGvD,GATa,CAAAoG,EAAAP,KAAA,eAAAO,EAAAC,OAAA,oBAafJ,EAAY7F,EAAO,MAAQ,KAC3B8F,EAAe9F,EAAO,KAAO,MAE7B+F,EAhBe,eAAAG,EAAA1J,OAAAwI,EAAA,KAAAxI,CAAAyI,mBAAAC,KAgBP,SAAAiB,IAAA,OAAAlB,mBAAAK,KAAA,SAAAc,GAAA,eAAAA,EAAAZ,KAAAY,EAAAX,MAAA,cAAAW,EAAAH,OAAA,SAAY,IAAII,EAAAC,EAAQ,SAAAlB,GAAO,OAAImB,WAAWnB,EAAS,OAAvD,wBAAAgB,EAAAI,SAAAL,MAhBO,yBAAAD,EAAAlJ,MAAAoD,KAAAqG,YAAA,KAkBjBtD,EAAGvD,GAAGkB,QAAQ,cAAgB,GAlBb,CAAAkF,EAAAP,KAAA,YAsBH,IAAZ3F,EAtBe,CAAAkG,EAAAP,KAAA,gBAAAO,EAAAP,KAAA,GAwBXM,EAxBW,eAyBjB5C,EAAGvD,GAAKuD,EAAGvD,GAAG8G,QAAN,QAAAnG,OAAsBsF,GAAtB,QAAAtF,OAA2CuF,IAzBlCE,EAAAP,KAAA,GA2BXJ,EAAe,CACnBvF,UACAC,QAAS,EACT4C,MAAOA,EAAQ7C,EACf8C,QACA5C,SAhCe,QAAAgG,EAAAP,KAAA,oBAkCI,IAAZ1F,EAlCQ,CAAAiG,EAAAP,KAAA,gBAAAO,EAAAP,KAAA,GAoCXM,IApCW,eAqCjB5C,EAAGvD,GAAKuD,EAAGvD,GAAG8G,QAAN,SAAAnG,OAAuBsF,GAAvB,SAAAtF,OAA6CuF,IArCpCE,EAAAP,KAAA,GAuCXJ,EAAe,CACnBvF,QAAS,EACTC,UACA4C,QACAC,MAAOA,EAAQ7C,EACfC,SA5Ce,QAAAgG,EAAAP,KAAA,sBA+CVtC,EAAGvD,GAAGkB,QAAQ,SAAW,GA/Cf,CAAAkF,EAAAP,KAAA,aAgDd3F,IAAYqD,EAAG7B,KAAKuC,MAAM/D,UAAYC,IAAYoD,EAAG7B,KAAKuC,MAAM9D,QAhDlD,CAAAiG,EAAAP,KAAA,gBAAAO,EAAAP,KAAA,GAiDXM,IAjDW,eAkDjB5C,EAAGvD,GAAKuD,EAAGvD,GAAG8G,QAAQb,EAAWC,GAlDhBE,EAAAP,KAAA,GAoDXJ,EAAe,CACnBvF,QAASqD,EAAG7B,KAAKwC,OAAOhE,QACxBC,QAASoD,EAAG7B,KAAKwC,OAAO/D,QACxB4C,MAAOA,EAAQQ,EAAG7B,KAAKwC,OAAOhE,QAC9B8C,MAAOA,EAAQO,EAAG7B,KAAKwC,OAAO/D,QAC9BC,SAzDe,QAAAgG,EAAAP,KAAA,sBA4DVtC,EAAGvD,GAAGkB,QAAQ,QAAU,GA5Dd,CAAAkF,EAAAP,KAAA,aA8Dd3F,IAAYqD,EAAG7B,KAAKxB,UAAYC,IAAYoD,EAAG7B,KAAKvB,QA9DtC,CAAAiG,EAAAP,KAAA,gBAAAO,EAAAP,KAAA,GA+DXM,IA/DW,QAgEjB5C,EAAGvD,GAAKuD,EAAGvD,GAAG8G,QAAQb,EAAWC,GAhEhB,QAAAE,EAAAP,KAAA,sBAkEVtC,EAAGvD,GAAGkB,QAAQ,SAAW,GAlEf,CAAAkF,EAAAP,KAAA,YAoEb7E,EAAQuC,EAAGtD,OAAOiD,KAAK,SAAA6D,GAAA,IAAYpD,EAAZoD,EAAG7G,QAAsB0D,EAAzBmD,EAAgB5G,QAAhB,OAAkCD,KAAayD,GAAMxD,KAAayD,KAC3F5C,EArEe,CAAAoF,EAAAP,KAAA,gBAsEjB7E,EAAMZ,KAAOA,EAEbmD,EAAGjD,WAxEc8F,EAAAP,KAAA,GA0EXY,EAAAC,EAAQM,IAAIzD,EAAGlD,QAAQU,IAAX,eAAAkG,EAAArK,OAAAwI,EAAA,KAAAxI,CAAAyI,mBAAAC,KAAe,SAAA4B,EAAOxG,GAAP,OAAA2E,mBAAAK,KAAA,SAAAyB,GAAA,eAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,cAAAsB,EAAAd,OAAA,SAAeZ,EAAe,CAC7DvF,QAASQ,EAAIR,QACbC,QAASO,EAAIP,QACb4C,MAAOA,EAAQrC,EAAIR,QACnB8C,MAAOA,EAAQtC,EAAIP,QACnBC,KAAMM,EAAIN,QALqB,wBAAA+G,EAAAP,SAAAM,MAAf,gBAAAE,GAAA,OAAAH,EAAA7J,MAAAoD,KAAAqG,YAAA,KA1ED,yBAAAT,EAAAQ,SAAAb,MA/IT,gBAAAsB,GAAA,OAAAvB,EAAA1I,MAAAoD,KAAAqG,YAAA,GAAAlB,EAAAE,KAAA,EAoORY,EAAAC,EAAQM,IAAI/E,EAAMV,QAAQR,IAAd,eAAAuG,EAAA1K,OAAAwI,EAAA,KAAAxI,CAAAyI,mBAAAC,KAAkB,SAAAiC,EAAOjE,EAAKP,GAAZ,OAAAsC,mBAAAK,KAAA,SAAA8B,GAAA,eAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,cAAA2B,EAAA3B,KAAA,EAC5BY,EAAAC,EAAQM,IAAI1D,EAAIvC,IAAJ,eAAA0G,EAAA7K,OAAAwI,EAAA,KAAAxI,CAAAyI,mBAAAC,KAAQ,SAAAoC,EAAOnE,EAAIP,GAAX,OAAAqC,mBAAAK,KAAA,SAAAiC,GAAA,eAAAA,EAAA/B,KAAA+B,EAAA9B,MAAA,YACpBtC,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,QAAU,GADb,CAAAyG,EAAA9B,KAAA,eAAA8B,EAAA9B,KAAA,EAGhBY,EAAAC,EAAQM,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,EAAE,EAAE,GAAG,CAAC,EAAE,IAAIjG,IAA5B,eAAA6G,EAAAhL,OAAAwI,EAAA,KAAAxI,CAAAyI,mBAAAC,KAAgC,SAAAuC,EAAAC,GAAA,IAAAC,EAAA7H,EAAAC,EAAA,OAAAkF,mBAAAK,KAAA,SAAAsC,GAAA,eAAAA,EAAApC,KAAAoC,EAAAnC,MAAA,cAAAkC,EAAAnL,OAAAyG,EAAA,KAAAzG,CAAAkL,EAAA,GAAQ5H,EAAR6H,EAAA,GAAiB5H,EAAjB4H,EAAA,GAAAC,EAAAnC,KAAA,EAC1CJ,EAAe,CACnBvF,UACAC,UACA4C,MAAOA,EAAQ7C,EACf8C,MAAOA,EAAQ7C,EACfC,KAAMmD,EAAGvD,GAAGkB,QAAQ,OAAS,IANiB,wBAAA8G,EAAApB,SAAAiB,MAAhC,gBAAAI,GAAA,OAAAL,EAAAxK,MAAAoD,KAAAqG,YAAA,KAHI,OAAAc,EAAA9B,KAAA,oBAabtC,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,SAAW,GAbrB,CAAAyG,EAAA9B,KAAA,eAAA8B,EAAA9B,KAAA,EAehBY,EAAAC,EAAQM,IAAIzD,EAAGlD,QAAQU,IAAX,eAAAmH,EAAAtL,OAAAwI,EAAA,KAAAxI,CAAAyI,mBAAAC,KAAe,SAAA6C,EAAAC,GAAA,IAAAlI,EAAAC,EAAAC,EAAA,OAAAiF,mBAAAK,KAAA,SAAA2C,GAAA,eAAAA,EAAAzC,KAAAyC,EAAAxC,MAAA,cAAS3F,EAATkI,EAASlI,QAASC,EAAlBiI,EAAkBjI,QAASC,EAA3BgI,EAA2BhI,KAA3BiI,EAAAxC,KAAA,EACzBJ,EAAe,CACnBvF,UACAC,UACA4C,MAAOA,EAAQ7C,EACf8C,MAAOA,EAAQ7C,EACfC,SAN6B,wBAAAiI,EAAAzB,SAAAuB,MAAf,gBAAAG,GAAA,OAAAJ,EAAA9K,MAAAoD,KAAAqG,YAAA,KAfI,wBAAAc,EAAAf,SAAAc,MAAR,gBAAAa,EAAAC,GAAA,OAAAf,EAAArK,MAAAoD,KAAAqG,YAAA,KADgB,wBAAAW,EAAAZ,SAAAW,MAAlB,gBAAAkB,EAAAC,GAAA,OAAApB,EAAAlK,MAAAoD,KAAAqG,YAAA,KApOJ,OAiQVrB,GACFA,IAlQY,wBAAAG,EAAAiB,SAAArB,MAAA,SAAAL,EAAAyD,EAAAC,GAAA,OAAAzD,EAAA/H,MAAAoD,KAAAqG,WAAA,OAAA3B,EAAA,GAsQhB2D,kBAtQgB,SAsQE5G,GAKhB,IAAM6G,IAAkBjG,EAAWZ,EAAMQ,UAAUwC,KAEnD,GAAI6D,EAAe,CAIjB,IAAMpG,EAAQrB,EAAOY,EAAMM,cAC3BG,EAAMb,UAAUpB,QAAQ,SAAAjC,GAAC,OAAIA,EAAEsD,MAAQ,OAGzCG,EAAMQ,UAAU6B,MAAM7D,QAAQ,SAAAsI,GAAsB,IAAnBhG,EAAmBgG,EAAnBhG,MAAOC,EAAY+F,EAAZ/F,MAChCO,EAAKtB,EAAMV,QAAQwB,GAAOC,GAE5B8F,EACFvF,EAAGqB,KAAM,GAEM,IAAXrB,EAAGqB,KAELrB,EAAGvD,GAAKuD,EAAGqB,IACXrB,EAAGqB,KAAM,GAETG,OAAIC,IAAI/C,EAAMV,QAAQwB,GAAQC,EAAO,MAK3Cf,EAAMQ,UAAY,MAGpBuG,oBAxSgB,SAwSI/G,EAxSJgH,GAwS6B,IAAhBlG,EAAgBkG,EAAhBlG,MAAOC,EAASiG,EAATjG,MAClCf,EAAMQ,UAAY,CAChByG,MAAO,CAAEnG,QAAOC,SAChBiC,IAAK,CAAElC,QAAOC,SACdsB,MAAO,KAIX6E,QAhTgB,SAgTRlH,GACNA,EAAMG,aAAeJ,EAEjBC,EAAMG,YAAc,IAKtBH,EAAMG,aAAeJ,EACrBC,EAAMK,YAAcN,EAEpBC,EAAMV,QAAQd,QAAQ,SAAC6C,GACrBA,EAAI3F,OAAO,EAAG,EAAG,QAKvByL,SAjUgB,SAiUPnH,GACPA,EAAMG,aAAeJ,EAEjBC,EAAMK,WAAaL,EAAMG,YAAcH,EAAMC,MAAMmH,MAAQ,IAK7DpH,EAAMK,YAAcN,EAEpBC,EAAMV,QAAQd,QAAQ,SAAC6C,GACrBA,EAAI3G,KAAK,QAKf2M,MAjVgB,SAiVVrH,GAGJ,GAFAA,EAAMI,aAAeL,EAEjBC,EAAMI,YAAc,EAAG,CAKzBJ,EAAMI,aAAeL,EACrBC,EAAME,aAAeH,EAErB,IAAMsB,EAAMrB,EAAMV,QAAQ,GAAGR,IAAI,iBAAO,KACxCkB,EAAMV,QAAQ5D,OAAO,EAAG,EAAG2F,KAI/BiG,QAjWgB,SAiWRtH,GAGN,GAFAA,EAAMI,aAAeL,EAEjBC,EAAME,YAAcF,EAAMI,YAAcJ,EAAMC,MAAMsH,OAAS,EAAG,CAKlEvH,EAAME,aAAeH,EAErB,IAAMsB,EAAMrB,EAAMV,QAAQ,GAAGR,IAAI,iBAAO,KACxCkB,EAAMV,QAAQ5E,KAAK2G,KAIvBmG,OAhXgB,SAgXTxH,GACL,IAAIyH,EAAYC,KAAKC,KAAK3H,EAAMC,MAAMsH,OAASxH,GAC3C6H,EAAaF,KAAKC,KAAK3H,EAAMC,MAAMmH,MAAQrH,GAK/C0H,IAA0BA,EAAY,GAAK,EAC3CG,IAA4BA,EAAa,GAAK,EAK9C,IAHA,IAAMnH,EAAQrB,EAAOY,EAAMM,cACrBhB,EAAU,GAEP+B,EAAM,EAAGA,EAAMoG,IAAapG,EAAK,CACxC/B,EAAQ+B,GAAO,GACf,IAAK,IAAIwG,EAAM,EAAGA,EAAMD,IAAcC,EAAK,CAEzC,IAAMC,GAAWrH,EAAMnB,QAAQ+B,GAC/B/B,EAAQ+B,GAAKwG,GAAOC,EAAU,GAAMrH,EAAMnB,QAAQ+B,GAAKwG,IAAQ,IAInE7H,EAAMV,QAAUA,EAChBU,EAAMS,MAAQA,EAEdT,EAAME,YAAcuH,EAAY1H,EAChCC,EAAMK,WAAauH,EAAa7H,EAEhC,IAAMgI,EAAS/H,EAAMK,WAAaL,EAAMC,MAAMmH,MACxCY,EAAShI,EAAME,YAAcF,EAAMC,MAAMsH,OAE/CvH,EAAMG,aAAgB4H,EAAS,EAC/B/H,EAAMI,aAAgB4H,EAAS,GAGjCC,YAnZgB,SAmZJjI,EAnZIkI,GAmZqB,IAAhBpH,EAAgBoH,EAAhBpH,MAAOC,EAASmH,EAATnH,MACpBO,EAAKtB,EAAMV,QAAQwB,GAAOC,GAE5BO,EAAGvD,GAAGkB,QAAQ,QAAU,EAC1BqC,EAAGvD,GAAKuD,EAAGvD,GAAG8G,QAAQ,MAAO,MAE7BvD,EAAGvD,GAAKuD,EAAGvD,GAAG8G,QAAQ,KAAM,SAK5BsD,EAAU,CACdC,aADc,SAAAC,EAAAC,GAC6B,IAA5BtI,EAA4BqI,EAA5BrI,MAAOuI,EAAqBF,EAArBE,OAAYtI,EAASqI,EAATrI,MAChCD,EAAMC,MAAQA,EACdsI,EAAO,WAGTC,UANc,SAAAC,EAAAC,GAM0B,IAA5BH,EAA4BE,EAA5BF,OAAYzH,EAAgB4H,EAAhB5H,MAAOC,EAAS2H,EAAT3H,MACzBO,EAAKtB,EAAMV,QAAQwB,GAAOC,GAC1BO,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,QAAU,GAUrC,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,EAAE,EAAE,GAAG,CAAC,EAAE,IAAIT,QAAQ,SAAAmK,GAAwB,IAAAC,EAAAjO,OAAAyG,EAAA,KAAAzG,CAAAgO,EAAA,GAAtB1K,EAAsB2K,EAAA,GAAb1K,EAAa0K,EAAA,GACpDvH,EAAMrB,EAAMV,QAAQwB,EAAQ7C,GAElC,GAAKoD,IAILC,EAAKD,EAAIN,EAAQ7C,GAEZoD,GAAL,CAIA,IAAIC,GAAS,EAETD,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,QAAU,EACnCsC,GAAS,EACAD,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,SAAW,IAI3CsC,EAASD,EAAGlD,QAAQoD,KAAK,SAAAqH,GAAA,IAAYnH,EAAZmH,EAAG5K,QAAsB0D,EAAzBkH,EAAgB3K,QAAhB,OAAkCD,KAAayD,GAAMxD,KAAayD,KAGzFJ,IACFgH,EAAO,sBAAuB,CAAEzH,QAAOC,UACvCwH,EAAO,kBAAmB,CACxBzH,QACAC,QACAtB,KAAM,CACJuC,MAAO,CAAE/D,UAASC,WAClB+D,OAAQrB,EAAW,CAAEE,QAAOC,WAAY,CAAE9C,SAAUA,EAASC,SAAUA,WAOjF4K,WAxDc,SAAAC,EAAAC,GAwDkC,IAAnChJ,EAAmC+I,EAAnC/I,MAAOuI,EAA4BQ,EAA5BR,OAAYzH,EAAgBkI,EAAhBlI,MAAOC,EAASiI,EAATjI,MACrC,GAAIf,EAAMQ,UAAW,CAInB,IAAM4B,EAAcpC,EAAMQ,UAAU6B,MAAM7H,OAE1C,GAAI4H,EAAa,KAAA6G,EAIXjJ,EAAMQ,UAAU6B,MAAMD,EAAc,GAF/BG,EAFM0G,EAEbnI,MACO0B,EAHMyG,EAGblI,MAOF,GAAI2G,KAAKwB,IAAIpI,EAAQyB,GAAa,GAAKmF,KAAKwB,IAAInI,EAAQyB,GAAa,EACnE,OAGF,GAAI1B,IAAUyB,GAAaxB,IAAUyB,EAAW,CAE9C,IAAMvE,EAAUsE,EAAYzB,EACtB5C,EAAUsE,EAAYzB,EAEvBf,EAAMV,QAAQwB,GAAOC,EAAQ7C,GAASH,GAE/BiC,EAAMV,QAAQwB,EAAQ7C,GAAS8C,GAAOhD,IAChDwK,EAAO,kBAAmB,CAAEzH,MAAOA,EAAQ7C,EAAS8C,QAAOtB,KAAM,KAFjE8I,EAAO,kBAAmB,CAAEzH,QAAOC,MAAOA,EAAQ7C,EAASuB,KAAM,MASvE8I,EAAO,kBAAmB,CAAEzH,QAAOC,QAAOtB,KAAM,OAIpD0J,QAhGc,SAAAC,EAgGMC,GAAK,IAAfd,EAAea,EAAfb,OACR,GAAIvI,EAAMQ,UACR+H,EAAO,0BACF,GAAIc,EAAK,KACNvI,EAAiBuI,EAAjBvI,MAAOC,EAAUsI,EAAVtI,MACTO,EAAKtB,EAAMV,QAAQwB,GAAOC,GAC5BO,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,QAAU,GAEnCsJ,EAAO,cAAe,CAAEzH,QAAOC,UAInCwH,EAAO,kBAGTe,UA/Gc,SAAAC,GA+Ge,IAAjBvJ,EAAiBuJ,EAAjBvJ,MAAOuI,EAAUgB,EAAVhB,OACbvI,EAAMM,eAAiBlB,EAAO5E,OAAS,GAK3CwF,EAAMM,cAAgB,EACtBiI,EAAO,UAEH,CAAC,EAAG,GAAGtJ,QAAQe,EAAMM,eACvBoE,WAAW,WACT8E,MAAM,wBACL,MAVHA,MAAM,uBAcVC,IA/Hc,SAAAC,EA+HEC,GAAW,IAArBpB,EAAqBmB,EAArBnB,OACJA,EAAM,MAAA7J,OAAOiL,KAGfC,WAnIc,SAAAC,EAAAC,GAmIkC,IAAnC9J,EAAmC6J,EAAnC7J,MAAOuI,EAA4BsB,EAA5BtB,OAAYzH,EAAgBgJ,EAAhBhJ,MAAOC,EAAS+I,EAAT/I,MAC/BgJ,EAAc,SAAdA,EAAcC,GAA+D,IAA5D/L,EAA4D+L,EAA5D/L,QAASC,EAAmD8L,EAAnD9L,QAAS+L,EAA0CD,EAA1CC,aAAcC,EAA4BF,EAA5BE,aAAcC,EAAcH,EAAdG,QAC7D7I,EAAKtB,EAAMV,QAAQwB,EAAQmJ,GAAclJ,EAAQmJ,GAEvD,GAAI5I,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,QAAU,EAEnC,OADAqC,EAAGvD,GAAKuD,EAAGvD,GAAG8G,QAAQ,KAAM,QACrB,EAGT,GAAIvD,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,SAAW,EAAG,CACvC,GAAKkL,EA+BH,OAhBArH,OAAIC,IAAI/C,EAAMV,QAAQwB,EAAQmJ,GAAelJ,EAAQmJ,EAAc,IAEnE5I,EAAGtD,OAAOQ,QAAQ,SAAAO,GAAK,OAAIgL,EAAY,CACrC9L,QAASc,EAAMd,QACfC,QAASa,EAAMb,QACf+L,aAAcA,EAAelL,EAAMd,QACnCiM,aAAcA,EAAenL,EAAMb,YAGrCoD,EAAGlD,QAAQI,QAAQ,SAAA4L,GAAM,OAAIL,EAAY,CACvC9L,QAASmM,EAAOnM,QAChBC,QAASkM,EAAOlM,QAChB+L,aAAcA,EAAeG,EAAOnM,QACpCiM,aAAcA,EAAeE,EAAOlM,aAG/B,EA1BP,IAAMa,EAAQuC,EAAGtD,OACdiD,KAAK,SAAAlC,GAAK,OAAIA,EAAMd,WAAaA,GAAWc,EAAMb,WAAaA,IAOlE,OALIa,IACFA,EAAMZ,MAAO,EACbmD,EAAGjD,aAGE,EAsBX,GAAIiD,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,cAAgB,EAAG,CAC5C,GAAIkL,EAAS,CACXrH,OAAIC,IAAI/C,EAAMV,QAAQwB,EAAQmJ,GAAelJ,EAAQmJ,EAAc,IAEnE,IAAMG,EAAU,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,EAAE,EAAE,GAAG,CAAC,EAAE,IAExCA,EAAQ7L,QAAQ,SAAA8L,GAAA,IAAAC,EAAA5P,OAAAyG,EAAA,KAAAzG,CAAA2P,EAAA,GAAE5I,EAAF6I,EAAA,GAAM5I,EAAN4I,EAAA,UAAcR,EAAY,CACxC9L,QAASyD,EACTxD,QAASyD,EACTsI,aAAcA,EAAevI,EAC7BwI,aAAcA,EAAevI,WAE1B,GAAgB,IAAZ1D,EAAe,CAIxB,IAAME,EAAOmD,EAAGvD,GAAGkB,QAAQ,aAAe,EAC1CqC,EAAGvD,GAAH,WAAAW,OAAmBP,EAAO,KAAO,OAIjC,IAAMqM,EAASxK,EAAMV,QAAQwB,EAAQmJ,GAAclJ,EAAQmJ,EAAe,GACrEM,EAAO/K,MAAuC,IAA/B+K,EAAO/K,KAAKwC,OAAO/D,QAcrCoD,EAAG7B,KAAO,CACRuC,MAAO,CAAE/D,QAAS,EAAGC,QAAS,GAC9B+D,OAAQ,CAAEhE,QAAS,EAAGC,SAAU,IAXlCoD,EAAG7B,KAAO,CACRuC,MAAO,CAAE/D,QAAS,EAAGC,SAAU,GAC/B+D,OAAQ,CAAEhE,QAAS,EAAGC,QAAS,QAY9B,CAIL,IAAMC,EAAOmD,EAAGvD,GAAGkB,QAAQ,YAAc,EACzCqC,EAAGvD,GAAH,WAAAW,OAAmBP,EAAO,KAAO,OAIjC,IAAMsM,EAAUzK,EAAMV,QAAQwB,EAAQmJ,EAAe,GAAGlJ,EAAQmJ,GAC3DO,EAAQhL,MAAwC,IAAhCgL,EAAQhL,KAAKwC,OAAOhE,QAYvCqD,EAAG7B,KAAO,CACRuC,MAAO,CAAE/D,QAAS,EAAGC,QAAS,GAC9B+D,OAAQ,CAAEhE,SAAU,EAAGC,QAAS,IAVlCoD,EAAG7B,KAAO,CACRuC,MAAO,CAAE/D,SAAU,EAAGC,QAAS,GAC/B+D,OAAQ,CAAEhE,QAAS,EAAGC,QAAS,IAoBrC,OAPA6L,EAAY,CACV9L,UACAC,UACA+L,aAAcA,EAAehM,EAC7BiM,aAAcA,EAAehM,KAGxB,EAGT,SAAIoD,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,SAAW,QAI9BkL,GACD7I,EAAG7B,KAAKuC,MAAM/D,WAAaA,GAAWqD,EAAG7B,KAAKuC,MAAM9D,WAAaA,GACjEoD,EAAG7B,KAAKwC,OAAOhE,WAAaA,GAAWqD,EAAG7B,KAAKwC,OAAO/D,WAAaA,KAIxE4E,OAAIC,IAAI/C,EAAMV,QAAQwB,EAAQmJ,GAAelJ,EAAQmJ,EAAc,IAEnEH,EAAY,CACV9L,QAASqD,EAAG7B,KAAKuC,MAAM/D,QACvBC,QAASoD,EAAG7B,KAAKuC,MAAM9D,QACvB+L,aAAcA,EAAe3I,EAAG7B,KAAKuC,MAAM/D,QAC3CiM,aAAcA,EAAe5I,EAAG7B,KAAKuC,MAAM9D,UAG7C6L,EAAY,CACV9L,QAASqD,EAAG7B,KAAKwC,OAAOhE,QACxBC,QAASoD,EAAG7B,KAAKwC,OAAO/D,QACxB+L,aAAcA,EAAe3I,EAAG7B,KAAKwC,OAAOhE,QAC5CiM,aAAcA,EAAe5I,EAAG7B,KAAKwC,OAAO/D,WAGvC,KAMX,GAAI6L,EAAY,CAAE9L,QAAS,EAAGC,QAAS,EAAG+L,aAAc,EAAGC,aAAc,EAAGC,SAAS,IAAS,CAI5F,IAAM1J,EAAQrB,EAAOY,EAAMM,cAC3BG,EAAMb,UAAUpB,QAAQ,SAAAjC,GAAC,OAAIA,EAAEsD,MAAQ,OAEvC0I,EAAO,mBAILmC,SA3SQ,eAAAC,EAAAhQ,OAAAwI,EAAA,KAAAxI,CAAAyI,mBAAAC,KAAA,SAAAuH,EAAAC,EAAAC,GAAA,IAAA9K,EAAAuI,EAAAwC,EAAAtK,EAAAuK,EAAAC,EAAAC,EAAA,OAAA9H,mBAAAK,KAAA,SAAA0H,GAAA,eAAAA,EAAAxH,KAAAwH,EAAAvH,MAAA,UA2SG5D,EA3SH6K,EA2SG7K,MAAOuI,EA3SVsC,EA2SUtC,OAAmBwC,EA3S7BD,EA2SsBhK,MAC5BL,EAAQrB,EAAOY,EAAMM,cACrB0K,EAAOvK,EAAMb,UAAUmL,GAKzBE,GAAS,EAEPC,EAAQ,GAEdlL,EAAMV,QAAQd,QAAQ,SAAC6C,GACrBA,EAAI7C,QAAQ,SAAC8C,GACX,GAAIA,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,QAAU,EAAG,CAMtC,IAAMd,EAAO6M,EAAKjN,GAAGkD,KAAK,SAAA1E,GAAC,OAAIA,EAAE0C,QAAQqC,EAAGvD,GAAGqN,OAAO,EAAG,KAAO,IAAGnM,QAAQ,OAAS,EAEhFd,IAASmD,EAAGvD,GAAGkB,QAAQ,OAAS,IAIlCgM,GAAS,GAGX3J,EAAGvD,GAAKuD,EAAGvD,GAAG8G,QAAQ1G,EAAO,MAAQ,KAAMA,EAAO,KAAO,YAChDmD,EAAGvD,IAAMuD,EAAGvD,GAAGkB,QAAQ,QAAU,GAE1CiM,EAAMxQ,KAAK4G,OAKE,OAAf0J,EAAKnL,OAAmBoL,EA/UhB,CAAAE,EAAAvH,KAAA,eAAAuH,EAAA/G,OAAA,wBAAA+G,EAAAvH,KAAA,GAmVN,IAAIY,EAAAC,EAAQ,SAAAlB,GAAO,OAAIgF,EAAO,gBAAiBhF,KAnVzC,eAAA4H,EAAAvH,KAAA,GAwVN,IAAIY,EAAAC,EAAQ,SAAAlB,GAAO,OAAImB,WAAWnB,EAAS,OAxVrC,QA6VZyH,EAAKnL,MAAQ,KACb6E,WAAW,WAKTsG,EAAKnL,MAAQqL,EAAMG,MAAM,SAAC/J,GACxB,IAAMgK,EAAaN,EAAKjN,GAAGkD,KAAK,SAAA1E,GAAC,OAAIA,EAAE0C,QAAQqC,EAAGvD,GAAGqN,OAAO,EAAG,KAAO,IAAGnM,QAAQ,OAAS,EAC1F,OAAOqM,IAAgBhK,EAAGvD,GAAGkB,QAAQ,OAAS,KAE/C,KAvWS,yBAAAkM,EAAAxG,SAAAiG,MAAA,SAAAF,EAAAa,EAAAC,GAAA,OAAAb,EAAAxP,MAAAoD,KAAAqG,WAAA,OAAA8F,EAAA,IA2WDe,EAAA,CACbC,YAAY,EACZ1L,QACAW,UACAiB,YACAuG,WCv0BFrF,OAAI6I,IAAIC,QAER,IAAM7Q,EAAU,CACd0Q,aAGII,EAAQ,IAAID,OAAKE,MAAM,CAC3B/Q,YAGFgR,IAAYhR,GAASyD,QAAQ,SAACwN,GAGxBjR,EAAQiR,GAAY7D,SAAWpN,EAAQiR,GAAY7D,QAAQ8D,MACzDlR,EAAQiR,GAAYN,YACtBG,EAAMK,SAAN,GAAAxN,OAAkBsN,EAAlB,YAKSH,QCzBXM,EAAM,WAAgB,IAAAC,EAAA7N,KAAa8N,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,MAAA,CAAOC,GAAA,QAAY,CAAAH,EAAA,cAC7HI,EAAA,GCDIC,EAAM,WAAgB,IAAAR,EAAA7N,KAAa8N,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBM,IAAA,QAAAC,YAAA,SAAgC,CAAAP,EAAA,OAAYO,YAAA,WAAAC,MAAAX,EAAA,MAAA9N,GAAA,CAA6C0O,QAAA,SAAAC,GAA2B,OAAAb,EAAAjD,aAAuBiD,EAAAc,GAAAd,EAAA,iBAAA/K,EAAAP,GAA0C,OAAAyL,EAAA,OAAiBnP,IAAA0D,GAAUsL,EAAAc,GAAA,WAAA5L,EAAAP,GAAiC,OAAAwL,EAAA,UAAoBnP,IAAA2D,EAAA0L,MAAA,CAAiBU,OAAA7L,GAAYhD,GAAA,CAAKkK,UAAA,SAAAyE,GAA6B,OAAAb,EAAA5D,UAAA,CAAsB1H,QAAAC,WAA+B+H,WAAA,SAAAmE,GAA+B,OAAAb,EAAAtD,WAAA,CAAuBxH,KAAAR,QAAAC,WAAuCqM,WAAA,SAAAH,GAA+B,OAAAb,EAAAgB,WAAA,CAAuB9L,QAAW6H,QAAA,SAAA8D,GAA4B,OAAAb,EAAAjD,QAAA,CAAoBrI,QAAAC,WAA+BsM,WAAA,SAAAJ,GAA+B,OAAAb,EAAAiB,WAAA,CAAuBvM,QAAAC,gBAAmC,KAAK,GAAAwL,EAAA,OAAeO,YAAA,QAAmB,CAAAP,EAAA,OAAYO,YAAA,WAAAxO,GAAA,CAA2BgP,MAAA,SAAAL,GAAyB,OAAAb,EAAAmB,cAAA,cAAsC,CAAAnB,EAAAoB,GAAA,2BAAApB,EAAAqB,KAAAC,cAAgJnB,EAAA,OAAYO,YAAA,OAAAL,MAAA,CAA0BkB,IAAMhS,EAAQ,WAApM4Q,EAAA,OAAwEO,YAAA,OAAAL,MAAA,CAA0BkB,IAAMhS,EAAQ,aAAkHyQ,EAAAqB,KAAA,cAAAlB,EAAA,OAAuCO,YAAA,oBAA+BV,EAAAc,GAAAd,EAAA3L,MAAA,eAAAmN,EAAAC,GAA+C,OAAAtB,EAAA,UAAoBnP,IAAAyQ,EAAApB,MAAA,CAAiBU,OAAAS,GAActP,GAAA,CAAKkK,UAAA,SAAAyE,GAA6Bb,EAAA0B,YAAAF,QAA2B,GAAAxB,EAAA2B,KAAAxB,EAAA,OAAwBO,YAAA,WAAAxO,GAAA,CAA2BgP,MAAA,SAAAL,GAAyB,OAAAb,EAAAmB,cAAA,gBAAwC,CAAAnB,EAAAoB,GAAA,6BAAApB,EAAAqB,KAAAO,gBAAoJzB,EAAA,OAAYO,YAAA,OAAAL,MAAA,CAA0BkB,IAAMhS,EAAQ,WAAxM4Q,EAAA,OAA4EO,YAAA,OAAAL,MAAA,CAA0BkB,IAAMhS,EAAQ,aAAkHyQ,EAAAqB,KAAA,gBAAAlB,EAAA,OAAyCO,YAAA,sBAAiC,CAAAP,EAAA,OAAYO,YAAA,kBAA6B,CAAAV,EAAAoB,GAAA,mBAAApB,EAAA6B,GAAA7B,EAAA9L,aAAA,QAAA8L,EAAA6B,GAAA7B,EAAA3L,MAAApB,OAAA,cAAA+M,EAAA8B,WAAmL3B,EAAA,UAAkDO,YAAA,uBAAAxO,GAAA,CAAuCgP,MAAAlB,EAAA9C,YAAuB,CAAA8C,EAAAoB,GAAA,kCAAnSjB,EAAA,UAAmIO,YAAA,WAAAxO,GAAA,CAA2BgP,MAAAlB,EAAA+B,UAAqB,CAAA/B,EAAAoB,GAAA,4BAAgHpB,EAAAc,GAAAd,EAAA3L,MAAA,mBAAAY,EAAAP,GAA4F,OAAAyL,EAAA,OAAiBnP,IAAA0D,EAAAgM,YAAA,MAAAxO,GAAA,CAAgCgP,MAAA,SAAAL,GAAyB,OAAAb,EAAApB,KAAA,CAAiBlK,aAAmB,CAAAsL,EAAAc,GAAA7L,EAAA,YAAAtD,EAAAgD,GAAqC,OAAAwL,EAAA,OAAiBnP,IAAA2D,EAAA+L,YAAA,QAA6B,CAAAP,EAAA,OAAY6B,MAAArQ,SAAa,IAAAsD,EAAAxB,MAAA0M,EAAA,OAAiCO,YAAA,cAAAL,MAAA,CAAiCkB,IAAMhS,EAAQ,YAA2B,IAAA0F,EAAAxB,MAAA0M,EAAA,OAAkCO,YAAA,UAAAL,MAAA,CAA6BkB,IAAMhS,EAAQ,WAAuByQ,EAAA2B,MAAA,MAAe,GAAA3B,EAAA2B,KAAAxB,EAAA,OAAyBO,YAAA,WAAAxO,GAAA,CAA2BgP,MAAA,SAAAL,GAAyB,OAAAb,EAAAmB,cAAA,eAAuC,CAAAnB,EAAAoB,GAAA,4BAAApB,EAAAqB,KAAAY,eAAkJ9B,EAAA,OAAYO,YAAA,OAAAL,MAAA,CAA0BkB,IAAMhS,EAAQ,WAAtM4Q,EAAA,OAA0EO,YAAA,OAAAL,MAAA,CAA0BkB,IAAMhS,EAAQ,aAAkHyQ,EAAAqB,KAAA,eAAAlB,EAAA,OAAwCO,YAAA,qBAAgC,CAAAV,EAAAkC,GAAA,KAAAlC,EAAA2B,UAC7hGQ,EAAe,YAAiB,IAAAnC,EAAA7N,KAAa8N,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBO,YAAA,kBAA6B,CAAAV,EAAAoB,GAAA,uCAAAjB,EAAA,OAA0DO,YAAA,sBAAiC,CAAAP,EAAA,OAAYO,YAAA,4BAAuC,CAAAV,EAAAoB,GAAA,4CAAAjB,EAAA,OAA+DO,YAAA,8BAAyC,CAAAV,EAAAoB,GAAA,yKAAAjB,EAAA,OAA4LO,YAAA,sBAAiC,CAAAP,EAAA,OAAYO,YAAA,4BAAuC,CAAAV,EAAAoB,GAAA,uCAAAjB,EAAA,OAA0DO,YAAA,8BAAyC,CAAAV,EAAAoB,GAAA,0MAAAjB,EAAA,OAA6NO,YAAA,sBAAiC,CAAAP,EAAA,OAAYO,YAAA,4BAAuC,CAAAV,EAAAoB,GAAA,yCAAAjB,EAAA,OAA4DO,YAAA,8BAAyC,CAAAV,EAAAoB,GAAA,4WAAAjB,EAAA,OAAiYO,YAAA,sBAAiC,CAAAP,EAAA,OAAYO,YAAA,4BAAuC,CAAAV,EAAAoB,GAAA,uDAAAjB,EAAA,OAA0EO,YAAA,8BAAyC,CAAAV,EAAAoB,GAAA,6FCDptDgB,EAAM,WAAgB,IAAApC,EAAA7N,KAAa8N,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBO,YAAA,SAAAxO,GAAA,CAAyBmQ,YAAA,SAAAxB,GAAuD,OAAxBA,EAAAyB,iBAAwBtC,EAAAuC,MAAA,eAA+BC,UAAA,SAAA3B,GAAsD,OAAxBA,EAAAyB,iBAAwBtC,EAAAuC,MAAA,cAA8BE,WAAA,SAAA5B,GAA+B,OAAAb,EAAAuC,MAAA,eAA+BG,WAAA,SAAA7B,GAA+B,OAAAb,EAAAuC,MAAA,eAA+B3B,QAAA,SAAAC,GAAqD,OAAzBA,EAAA8B,kBAAyB3C,EAAAuC,MAAA,cAA8B,iBAAAvC,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAsC,eAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA6CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAqC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAsC,eAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA6CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAqC,kBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAAgDE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAmC,iBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAkC,kBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAAgDE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAmC,kBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAAgDE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAmC,iBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAkC,iBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAkC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,eAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA6CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAgC,eAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA6CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAgC,eAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA6CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAgC,eAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA6CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAgC,eAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA6CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAgC,eAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA6CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAgC,iCAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+DE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAmC,gCAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8DE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAwC,gCAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8DE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAuC,+BAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA6DE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAuC,iBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAkC,iBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAkC,eAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA6CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAgC,eAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA6CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAgC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,gBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA8CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAiC,iBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAkC,iBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAkC,iBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAkC,iBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAkC,iBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAkC,iBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAkC,iBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAkC,iBAAAyQ,EAAAe,OAAApP,GAAAwO,EAAA,OAA+CE,MAAA,CAAOkB,IAAMhS,EAAQ,WAAkC4Q,EAAA,OAAYyC,YAAA,CAAaC,WAAA,UAAsBxC,MAAA,CAAQkB,IAAMhS,EAAQ,cAChrKuT,EAAe,GC+EnBC,EAAA,CACA9S,KAAA,SACA+S,MAAA,CACAjC,OAAA,KCnF+VkC,EAAA,cCO/VC,EAAgB3U,OAAA4U,EAAA,KAAA5U,CACd0U,EACAb,EACAU,GACF,EACA,KACA,KACA,MAIeM,EAAAF,UC4IfG,EAAA,CACApT,KAAA,QACAqT,WAAA,CACAF,UAEAxV,KALA,WAMA,OACA2V,cAAA,KACA7B,YAAA,KACA8B,QAAA,EACAnC,KAAA,CACAY,gBAAA,EACAL,iBAAA,EACAN,eAAA,KAIAmC,SAAAlV,OAAAmV,EAAA,KAAAnV,CAAA,GACAA,OAAAoV,EAAA,KAAApV,CAAA,aACA,cACA,cACA,cACA,aACA,eACA,YACA,UACA,UATA,CAWAuT,WAXA,WAYA,OAAA3P,KAAAkC,MAAAb,UAAAyL,MAAA,SAAA9O,GAAA,WAAAA,EAAAsD,SAEAkN,MAdA,WAeA,IAAA9R,EAAA,SAAAyD,OAAAH,KAAA4B,YAAA,aAAAzB,OAAAH,KAAA6B,YAAA,MACA,OAAA7B,KAAA8B,YAAA9B,KAAA2B,YACA,GAAAxB,OAAAzD,EAAA,aAAAyD,OAAAH,KAAA8B,WAAA,gBAAA3B,OAAAH,KAAA2B,YAAA,MAEAjF,KAGA+U,QAvCA,WAwCAC,SAAAC,iBAAA,UAAA3R,KAAA4R,UAEAC,cA1CA,WA2CAH,SAAAI,oBAAA,UAAA9R,KAAA4R,UAEAG,QA7CA,WA8CA,IAAArQ,EAAA1B,KAAAgS,MAAAtQ,MAAAuQ,wBAEAjS,KAAA6J,aAAA,CACAnI,WAGAwQ,QAAA9V,OAAAmV,EAAA,KAAAnV,CAAA,GACAA,OAAAoV,EAAA,KAAApV,CAAA,aACA,eAIA,YACA,MACA,aARA,CAUAwV,QAVA,SAUAO,GACA,iDAAAzR,QAAAyR,EAAAtT,MAAA,IACAsT,EAAAhC,iBACAnQ,KAAAkL,IAAAiH,EAAAtT,IAAAuT,UAAA,QAAAnW,WAGAgO,UAhBA,SAAA3H,GAgBA,IAAAC,EAAAD,EAAAC,MAAAC,EAAAF,EAAAE,MACAxC,KAAAuP,aACAvP,KAAAqS,OAAA1E,SAAA,uBAAApL,QAAAC,WAGA+H,WArBA,SAAA5H,GAqBA,IAAAI,EAAAJ,EAAAI,GAAAR,EAAAI,EAAAJ,MAAAC,EAAAG,EAAAH,MACAxC,KAAAoR,cAAArO,EAEA/C,KAAAuP,YACAxM,EAAAvD,KACA8S,EAAA,KAAA9N,IAAAzB,EAAA,KAAA/C,KAAAuP,YAAA/P,IACAuD,EAAAqB,KAAA,GAGApE,KAAAqS,OAAA1E,SAAA,wBAAApL,QAAAC,WAGAqM,WAjCA,SAAAjM,GAiCA,IAAAG,EAAAH,EAAAG,GACA/C,KAAAuP,aAAAxM,EAAAqB,MACArB,EAAAvD,QAAA+S,EACAxP,EAAAqB,SAAAmO,IAGA3H,QAvCA,SAuCAE,GACA9K,KAAAuP,YAIAvP,KAAAoR,cAAAhN,MACUD,IAAVnE,KAAAoR,cAAApR,KAAAuP,YAAA3Q,SAAA,CAAAwF,KAAA,IACApE,KAAAuP,YAAA,KACAvP,KAAAkP,KAAAC,eAAA,GAGAnP,KAAAqS,OAAA1E,SAAA,oBAAA7C,IAGAgE,WArDA,SAAA5L,GAqDA,IAAAX,EAAAW,EAAAX,MAAAC,EAAAU,EAAAV,MACAxC,KAAAqS,OAAA1E,SAAA,wBAAApL,QAAAC,WAEAgQ,OAxDA,SAwDAL,GACA,IAAAM,EAAA,GAEAN,EAAAO,OAAAD,EACAzS,KAAAkL,IAAA,SACAiH,EAAAO,QAAAD,GACAzS,KAAAkL,IAAA,QAGAiH,EAAAQ,OAAAF,EACAzS,KAAAkL,IAAA,QACAiH,EAAAQ,QAAAF,GACAzS,KAAAkL,IAAA,OAGAuB,KAvEA,eAAAmG,EAAAxW,OAAAwI,EAAA,KAAAxI,CAAAyI,mBAAAC,KAAA,SAAAiB,EAAAxC,GAAA,IAAAhB,EAAA,OAAAsC,mBAAAK,KAAA,SAAAc,GAAA,eAAAA,EAAAZ,KAAAY,EAAAX,MAAA,cAuEA9C,EAvEAgB,EAuEAhB,MACAvC,KAAAgP,cAAA,aAxEAhJ,EAAAX,KAAA,EAyEArF,KAAAmM,SAAA,CAAA5J,UAzEA,OA0EAvC,KAAAgP,cAAA,aA1EA,wBAAAhJ,EAAAI,SAAAL,EAAA/F,SAAA,SAAAyM,EAAAtE,GAAA,OAAAyK,EAAAhW,MAAAoD,KAAAqG,WAAA,OAAAoG,EAAA,GA4EAmD,QA5EA,eAAAiD,EAAAzW,OAAAwI,EAAA,KAAAxI,CAAAyI,mBAAAC,KAAA,SAAA4B,IAAA,IAAAnE,EAAA,OAAAsC,mBAAAK,KAAA,SAAAyB,GAAA,eAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,OAgFArF,KAAAkC,MAAAb,UAAApB,QAAA,SAAAjC,GAAA,OAAAA,EAAAsD,MAAA,OAKAiB,EAAA,EArFA,YAqFAA,EAAAvC,KAAAkC,MAAAb,UAAApF,QArFA,CAAA0K,EAAAtB,KAAA,gBAAAsB,EAAAtB,KAAA,EAsFArF,KAAAyM,KAAA,CAAAlK,UAtFA,cAAAoE,EAAAtB,KAAA,EAuFA,IAAAY,EAAAC,EAAA,SAAAlB,GAAA,OAAAmB,WAAAnB,EAAA,OAvFA,SAqFAzC,EArFAoE,EAAAtB,KAAA,iCAAAsB,EAAAP,SAAAM,EAAA1G,SAAA,SAAA4P,IAAA,OAAAiD,EAAAjW,MAAAoD,KAAAqG,WAAA,OAAAuJ,EAAA,GA0FAZ,cA1FA,SA0FA8D,GAAA,IAAAC,EAAA/S,KACMwN,IAANxN,KAAAkP,MAAAjP,QAAA,SAAApB,GACAA,EAAA6B,QAAAoS,IAAA,EACAC,EAAA7D,KAAArQ,IAAAkU,EAAA7D,KAAArQ,GAEAkU,EAAA7D,KAAArQ,IAAA,QCjT8VmU,EAAA,ECO1VC,EAAY7W,OAAA4U,EAAA,KAAA5U,CACd4W,EACA3E,EACA2B,GACF,EACA,KACA,KACA,MAIekD,EAAAD,UCTfE,EAAA,CACArV,KAAA,MACAqT,WAAA,CACA+B,UCZ8TE,EAAA,ECQ1TC,aAAYjX,OAAA4U,EAAA,KAAA5U,CACdgX,EACAxF,EACAQ,GACF,EACA,KACA,KACA,OAIekF,EAAAD,UCff9O,OAAIgP,OAAOC,eAAgB,EAE3B,IAAIjP,OAAI,CACN0E,OAAQ,SAAAwK,GAAC,OAAIA,EAAEH,IACfhG,UACCoG,OAAO,6CCTV,IAAAC,EAAAvW,EAAA,QAAAwW,EAAAxW,EAAA2B,EAAA4U,GAAkfC,EAAG,0BCArfnW,EAAAD,QAAiBJ,EAAA8B,EAAuB,oECAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,2CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,gDCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,+CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,iDCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,+CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,8CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,+CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,+CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,6CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,4CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,6CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,gDCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,6CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,gDCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,8CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,+CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,8CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,+CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,6CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,6CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,6CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,2CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,6CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,4CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,6CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,2CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,4CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,4CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,oDCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,mDCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,6CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,2CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,6CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,sDCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,4CCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB","file":"js/app.fc18defe.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/100.5be0de59.png\";","module.exports = __webpack_public_path__ + \"img/nsew.ce8d6062.svg\";","module.exports = __webpack_public_path__ + \"img/nsew-both.1de31346.svg\";","module.exports = __webpack_public_path__ + \"img/nsew-horiz.26c924f3.svg\";","module.exports = __webpack_public_path__ + \"img/1.395d8310.png\";","module.exports = __webpack_public_path__ + \"img/sw.f109240d.svg\";","module.exports = __webpack_public_path__ + \"img/0.803299a3.png\";","module.exports = __webpack_public_path__ + \"img/w.23dd8fba.svg\";","module.exports = __webpack_public_path__ + \"img/nsew.ced89498.svg\";","module.exports = __webpack_public_path__ + \"img/nw.006f2919.svg\";","module.exports = __webpack_public_path__ + \"img/ew.bedbd653.svg\";","module.exports = __webpack_public_path__ + \"img/111.3afb2fbe.png\";","module.exports = __webpack_public_path__ + \"img/nw.ed825ae6.svg\";","module.exports = __webpack_public_path__ + \"img/caret-up.8c6034b9.svg\";","\nconst SPLIT = {\n  cl: 'split-gate-0',\n  create() {\n    return {\n      cl: 'split-gate-0',\n      inputs: [\n        { rowDiff: 0, colDiff: -1, isOn: false },\n      ],\n      outputs: [\n        { rowDiff: -1, colDiff: 0, isOn: false },\n        { rowDiff: 0, colDiff: 1, isOn: false },\n        { rowDiff: 1, colDiff: 0, isOn: false },\n      ],\n      evaluate() {\n        const on = this.inputs[0].isOn ? '1' : '0'\n        this.outputs.forEach(out => out.isOn = (on === '1'))\n        this.cl = `split-gate-${on}`\n      },\n    }\n  },\n}\n\nconst NOT = {\n  cl: 'not-gate-0',\n  create() {\n    return {\n      cl: 'not-gate-0',\n      inputs: [\n        { rowDiff: 0, colDiff: -1, isOn: false },\n      ],\n      outputs: [\n        { rowDiff: 0, colDiff: 1, isOn: true },\n      ],\n      evaluate() {\n        const isOutOn = this.outputs[0].isOn = !this.inputs[0].isOn\n        this.cl = `not-gate-${isOutOn ? '0' : '1'}`\n      },\n    }\n  },\n}\n\nconst OR = {\n  cl: 'or-gate-000',\n  create() {\n    return {\n      cl: 'or-gate-000',\n      inputs: [\n        { rowDiff: -1, colDiff: 0, isOn: false },\n        { rowDiff: 0, colDiff: -1, isOn: false },\n        { rowDiff: 1, colDiff: 0, isOn: false },\n      ],\n      outputs: [\n        { rowDiff: 0, colDiff: 1, isOn: false },\n      ],\n      evaluate() {\n        const cl = this.inputs.map(input => input.isOn ? '1' : '0').join('')\n        this.outputs[0].isOn = cl.indexOf('1') > -1\n        this.cl = `or-gate-${cl}`\n      },\n    }\n  },\n}\n\nconst AND = {\n  cl: 'and-gate-000',\n  create() {\n    return {\n      cl: 'and-gate-000',\n      inputs: [\n        { rowDiff: -1, colDiff: 0, isOn: false },\n        { rowDiff: 0, colDiff: -1, isOn: false },\n        { rowDiff: 1, colDiff: 0, isOn: false },\n      ],\n      outputs: [\n        { rowDiff: 0, colDiff: 1, isOn: false },\n      ],\n      evaluate() {\n        const cl = this.inputs.map(input => input.isOn ? '1' : '0').join('')\n        this.outputs[0].isOn = cl === '111'\n        this.cl = `and-gate-${cl}`\n      },\n    }\n  },\n}\n\nexport default {\n  SPLIT,\n  NOT,\n  OR,\n  AND,\n}","import GATE from './gates'\n\nexport default [\n  {\n    title: 'Turn on light',\n    squares: {\n      2: {\n        7: { cl: 'blu-lgt-s-off', conn: { rowDiff: 1, colDiff: 0 } },\n      },\n      5: {\n        2: { cl: 'pnk-btn-off' },\n      },\n    },\n    tools: [\n    ],\n    objective: [\n      { cl: ['ball pnk-off', 'bulb blu-off'], score: null },\n      { cl: ['ball pnk-on', 'bulb blu-on'], score: null },\n    ],\n  },\n  {\n    title: 'Invert signal',\n    squares: {\n      2: {\n        7: { cl: 'blu-lgt-s-off', conn: { rowDiff: 1, colDiff: 0 } },\n      },\n      5: {\n        2: { cl: 'pnk-btn-off' },\n      },\n    },\n    tools: [\n      GATE.NOT,\n    ],\n    objective: [\n      { cl: ['ball pnk-off', 'bulb blu-on'], score: null },\n      { cl: ['ball pnk-on', 'bulb blu-off'], score: null },\n    ],\n  },\n  {\n    title: '\"Or\"',\n    squares: {\n      2: {\n        7: { cl: 'blu-lgt-s-off', conn: { rowDiff: 1, colDiff: 0 } },\n      },\n      5: {\n        2: { cl: 'pnk-btn-off' },\n        5: { cl: 'grn-btn-off' },\n      },\n    },\n    tools: [\n      GATE.OR,\n    ],\n    objective: [\n      { cl: ['ball pnk-off', 'ball grn-off', 'bulb blu-off'], score: null },\n      { cl: ['ball pnk-off', 'ball grn-on', 'bulb blu-on'], score: null },\n      { cl: ['ball pnk-on', 'ball grn-off', 'bulb blu-on'], score: null },\n      { cl: ['ball pnk-on', 'ball grn-on', 'bulb blu-on'], score: null },\n    ],\n  },\n  {\n    title: '\"And\"',\n    squares: {\n      2: {\n        7: { cl: 'blu-lgt-s-off', conn: { rowDiff: 1, colDiff: 0 } },\n      },\n      5: {\n        2: { cl: 'pnk-btn-off' },\n        5: { cl: 'grn-btn-off' },\n      },\n    },\n    tools: [\n      GATE.NOT,\n      GATE.OR,\n    ],\n    objective: [\n      { cl: ['ball pnk-off', 'ball grn-off', 'bulb blu-off'], score: null },\n      { cl: ['ball pnk-off', 'ball grn-on', 'bulb blu-off'], score: null },\n      { cl: ['ball pnk-on', 'ball grn-off', 'bulb blu-off'], score: null },\n      { cl: ['ball pnk-on', 'ball grn-on', 'bulb blu-on'], score: null },\n    ],\n  },\n]\n","import Vue from 'vue'\n\nconst sideLength = 100 + 2 + 4 // width + border + margin\n\nimport levels from './levels'\n\nconst state = {\n  board: {},\n  boardHeight: 0,\n  boardShiftX: 0,\n  boardShiftY: 0,\n  boardWidth: 0,\n  currentLevel: 0,\n  isLoading: true,\n  mousePath: null,\n  squares: [],\n  level: null,\n  viewport: {},\n}\n\nconst getters = {\n  //\n}\n\n/**\n * Look for an input and return the respective\n * { rowDiff, colDiff } object.\n */\nfunction findSecond({ rowIx, colIx }) {\n  const diffs = [[0,-1],[0,1],[-1,0],[1,0]].find(([rowDiff, colDiff]) => {\n    const row = state.squares[rowIx + rowDiff]\n\n    if (!row) {\n      return false\n    }\n\n    const sq = row[colIx + colDiff]\n\n    if (!sq) {\n      return false\n    }\n\n    let aligns = false\n\n    if (sq.cl && sq.cl.indexOf('lgt') > -1) {\n      // light\n      aligns = sq.conn.rowDiff === -rowDiff && sq.conn.colDiff === -colDiff\n    } else if (sq.cl && sq.cl.indexOf('gate') > -1) {\n      // gate\n      aligns = sq.inputs.some(({ rowDiff: rd, colDiff: cd }) => rowDiff === -rd && colDiff === -cd)\n    }\n\n    return aligns\n  })\n\n  if (!diffs) {\n    return null\n  }\n\n  return { rowDiff: diffs[0], colDiff: diffs[1] }\n}\n\nconst mutations = {\n  /**\n   * Fill `squares` to draw `mousePath`\n   * \n   * Don't overwrite permanent fixtures.\n   * Cross over existing paths where applicable.\n   * Needs to take into account input/output directions.\n   *\n   * Assume either rowIx or colIx changed by 1.\n   * This should be enforced by calling function.\n   */\n  appendMousePath(state, { rowIx, colIx, conn }) {\n    const sq = state.squares[rowIx][colIx]\n\n    const canDraw = () => {\n      if (sq.cl) {\n        /**\n         * Since something already exists in this square,\n         * this method is only allowed to proceed if it's trying\n         * to draw a cross-wire.\n         */\n        if (sq.cl.indexOf('wire-ew-') > -1\n          && conn.first.colDiff === 0 && conn.second.colDiff === 0) {\n          // is horizontal and trying to cross vertically\n        } else if (sq.cl.indexOf('wire-ns-') > -1\n          && conn.first.rowDiff === 0 && conn.second.rowDiff === 0) {\n          // is vertical and trying to cross horizontally\n        } else {\n          return false\n        }\n      }\n\n      return true\n    }\n\n    /**\n     * `conn` is initialized by calling method for the\n     * first square in the path.\n     * After that, it's initialized below using the\n     * previous square in the path.\n     */\n    if (conn.second && !canDraw()) {\n      return\n    }\n\n    const getCl = ({ first, second }) => {\n      let cl = ''\n      if (first.rowDiff < 0 || second.rowDiff < 0) {\n        cl = `${cl}n`\n      }\n      if (first.rowDiff > 0 || second.rowDiff > 0) {\n        cl = `${cl}s`\n      }\n      if (first.colDiff > 0 || second.colDiff > 0) {\n        cl = `${cl}e`\n      }\n      if (first.colDiff < 0 || second.colDiff < 0) {\n        cl = `${cl}w`\n      }\n      if (cl === 'e' || cl === 'w') {\n        cl = 'ew'\n      } else if (cl === 'n' || cl === 's') {\n        cl = 'ns'\n      }\n      return `wire-${cl}-off`\n    }\n\n    const stackLength = state.mousePath.stack.length\n\n    if (stackLength) {\n      const {\n        rowIx: lastRowIx,\n        colIx: lastColIx,\n      } = state.mousePath.stack[stackLength - 1]\n\n      const lastSq = state.squares[lastRowIx][lastColIx]\n\n      Object.assign(conn, {\n        first: {\n          rowDiff: lastRowIx - rowIx,\n          colDiff: lastColIx - colIx,\n        },\n        // deep copy `lastSq.conn.second`\n        second: findSecond({ rowIx, colIx }) || {\n          rowDiff: rowIx - lastRowIx,\n          colDiff: colIx - lastColIx,\n        },\n      })\n\n      /**\n       * Now `conn` is initialized, so we\n       * can check `canDraw`.\n       */\n      if (!canDraw()) {\n        return\n      }\n\n      /**\n       * Don't automatically update wire type for a cross piece.\n       */\n      if (lastSq.cl.indexOf('wire-nsew') < 0) {\n        // not a cross-wire\n        lastSq.conn.second = {\n          rowDiff: rowIx - lastRowIx,\n          colDiff: colIx - lastColIx,\n        }\n\n        lastSq.cl = getCl(lastSq.conn)\n      }\n    }\n\n    /**\n     * wait until now to get `cl` because `conn` could\n     * be modified after looking at the last segment.\n     */\n    const cl = getCl(conn)\n\n    if (!sq.cl) {\n      Vue.set(state.squares[rowIx], colIx, {\n        cl,\n        conn,\n        tmp: true,\n      })\n    } else if (sq.cl.indexOf('wire-ew') > -1 && cl.indexOf('wire-ns') > -1) {\n      // save cl to revert to\n      sq.tmp = sq.cl\n      const horizOn = sq.cl.indexOf('on') > -1 ? 'on' : 'off'\n      sq.cl = `wire-nsew-vert-off-horiz-${horizOn}`\n    } else if (sq.cl.indexOf('wire-ns') > -1 && cl.indexOf('wire-ew') > -1) {\n      // save cl to revert to\n      sq.tmp = sq.cl\n      const vertOn = sq.cl.indexOf('on') > -1 ? 'on' : 'off'\n      sq.cl = `wire-nsew-vert-${vertOn}-horiz-off`\n    }\n\n    state.mousePath.end = { rowIx, colIx }\n    state.mousePath.stack.push(state.mousePath.end)\n  },\n\n  /**\n   * TODO Check solutions while evaluating board.\n   */\n  async evaluateBoard(state, resolve) {\n    const evaluateSquare = async ({\n      rowDiff,\n      colDiff,\n      rowIx,\n      colIx,\n      isOn,\n    }) => {\n      const sq = state.squares[rowIx][colIx]\n\n      if (!sq.cl) {\n        return\n      }\n\n      const lastState = isOn ? 'off' : 'on'\n      const currentState = isOn ? 'on' : 'off'\n\n      const delay = async () => new Promise(resolve => setTimeout(resolve, 10))\n\n      if (sq.cl.indexOf('wire-nsew') > -1) {\n        /**\n         * Did it come vertically or horizontally?\n         */\n        if (rowDiff !== 0) {\n          // vertically\n          await delay\n          sq.cl = sq.cl.replace(`vert-${lastState}`, `vert-${currentState}`)\n\n          await evaluateSquare({\n            rowDiff,\n            colDiff: 0,\n            rowIx: rowIx + rowDiff,\n            colIx,\n            isOn,\n          })\n        } else if (colDiff !== 0) {\n          // horizontally\n          await delay()\n          sq.cl = sq.cl.replace(`horiz-${lastState}`, `horiz-${currentState}`)\n\n          await evaluateSquare({\n            rowDiff: 0,\n            colDiff,\n            rowIx,\n            colIx: colIx + colDiff,\n            isOn,\n          })\n        }\n      } else if (sq.cl.indexOf('wire') > -1) {\n        if (-rowDiff === sq.conn.first.rowDiff && -colDiff === sq.conn.first.colDiff) {\n          await delay()\n          sq.cl = sq.cl.replace(lastState, currentState)\n\n          await evaluateSquare({\n            rowDiff: sq.conn.second.rowDiff,\n            colDiff: sq.conn.second.colDiff,\n            rowIx: rowIx + sq.conn.second.rowDiff,\n            colIx: colIx + sq.conn.second.colDiff,\n            isOn,\n          })\n        }\n      } else if (sq.cl.indexOf('lgt') > -1) {\n        // light\n        if (-rowDiff === sq.conn.rowDiff && -colDiff === sq.conn.colDiff) {\n          await delay()\n          sq.cl = sq.cl.replace(lastState, currentState)\n        }\n      } else if (sq.cl.indexOf('gate') > -1) {\n        // gate\n        const input = sq.inputs.find(({ rowDiff: rd, colDiff: cd }) => rowDiff === -rd && colDiff === -cd)\n        if (input) {\n          input.isOn = isOn\n          // update outputs\n          sq.evaluate()\n\n          await Promise.all(sq.outputs.map(async (out) => evaluateSquare({\n            rowDiff: out.rowDiff,\n            colDiff: out.colDiff,\n            rowIx: rowIx + out.rowDiff,\n            colIx: colIx + out.colDiff,\n            isOn: out.isOn,\n          })))\n        }\n      }\n    }\n\n    await Promise.all(state.squares.map(async (row, rowIx) => {\n      await Promise.all(row.map(async (sq, colIx) => {\n        if (sq.cl && sq.cl.indexOf('btn') > -1) {\n          // power button\n          await Promise.all([[0,-1],[0,1],[-1,0],[1,0]].map(async ([rowDiff, colDiff]) => {\n            await evaluateSquare({\n              rowDiff,\n              colDiff,\n              rowIx: rowIx + rowDiff,\n              colIx: colIx + colDiff,\n              isOn: sq.cl.indexOf('on') > -1,\n            })\n          }))\n          // TODO check solution\n        } else if (sq.cl && sq.cl.indexOf('gate') > -1) {\n          // gate\n          await Promise.all(sq.outputs.map(async ({ rowDiff, colDiff, isOn }) => {\n            await evaluateSquare({\n              rowDiff,\n              colDiff,\n              rowIx: rowIx + rowDiff,\n              colIx: colIx + colDiff,\n              isOn,\n            })\n          }))\n        }\n      }))\n    }))\n\n    if (resolve) {\n      resolve()\n    }\n  },\n\n  finalizeMousePath(state) {\n    /**\n     * If path doesn't end at an input, remove it.\n     * Otherwise, set it in place.\n     */\n    const doesTerminate = !!findSecond(state.mousePath.end)\n\n    if (doesTerminate) {\n      /**\n       * Previous scores no longer valid.\n       */\n      const level = levels[state.currentLevel]\n      level.objective.forEach(o => o.score = null)\n    }\n\n    state.mousePath.stack.forEach(({ rowIx, colIx }) => {\n      const sq = state.squares[rowIx][colIx]\n\n      if (doesTerminate) {\n        sq.tmp = false\n      } else {\n        if (sq.tmp !== true) {\n          // cross-wire\n          sq.cl = sq.tmp\n          sq.tmp = false\n        } else {\n          Vue.set(state.squares[rowIx], colIx, {})\n        }\n      }\n    })\n\n    state.mousePath = null\n  },\n\n  initializeMousePath(state, { rowIx, colIx }) {\n    state.mousePath = {\n      start: { rowIx, colIx },\n      end: { rowIx, colIx },\n      stack: [],\n    }\n  },\n\n  panLeft(state) {\n    state.boardShiftX += sideLength\n\n    if (state.boardShiftX > 0) {\n      /**\n       * There's black space to the left of the board.\n       * Fix this by adding a new column.\n       */\n      state.boardShiftX -= sideLength\n      state.boardWidth += sideLength\n\n      state.squares.forEach((row) => {\n        row.splice(0, 0, {})\n      })\n    }\n  },\n\n  panRight(state) {\n    state.boardShiftX -= sideLength\n\n    if (state.boardWidth + state.boardShiftX - state.board.width < 0) {\n      /**\n       * Client rectangle is larger than visible viewport area.\n       * Add a column.\n       */\n      state.boardWidth += sideLength\n\n      state.squares.forEach((row) => {\n        row.push({})\n      })\n    }\n  },\n\n  panUp(state) {\n    state.boardShiftY += sideLength\n\n    if (state.boardShiftY > 0) {\n      /**\n       * There's black space to the left of the board.\n       * Fix this by adding a new column.\n       */\n      state.boardShiftY -= sideLength\n      state.boardHeight += sideLength\n\n      const row = state.squares[0].map(() => ({}))\n      state.squares.splice(0, 0, row)\n    }\n  },\n\n  panDown(state) {\n    state.boardShiftY -= sideLength\n\n    if (state.boardHeight + state.boardShiftY - state.board.height < 0) {\n      /**\n       * Client rectangle is larger than visible viewport area.\n       * Add a column.\n       */\n      state.boardHeight += sideLength\n\n      const row = state.squares[0].map(() => ({}))\n      state.squares.push(row)\n    }\n  },\n\n  render(state) {\n    let vertBoxes = Math.ceil(state.board.height / sideLength)\n    let horizBoxes = Math.ceil(state.board.width / sideLength)\n    /**\n     * Make # boxes in each direction odd\n     * so there can be a centered box in the middle.\n     */\n    vertBoxes = vertBoxes + ((vertBoxes + 1) % 2)\n    horizBoxes = horizBoxes + ((horizBoxes + 1) % 2)\n\n    const level = levels[state.currentLevel]\n    const squares = []\n\n    for (let row = 0; row < vertBoxes; ++row) {\n      squares[row] = []\n      for (let col = 0; col < horizBoxes; ++col) {\n        // TODO this is temporary\n        const isBlank = !level.squares[row]\n        squares[row][col] = isBlank ? {} : (level.squares[row][col] || {})\n      }\n    }\n\n    state.squares = squares\n    state.level = level\n\n    state.boardHeight = vertBoxes * sideLength\n    state.boardWidth = horizBoxes * sideLength\n\n    const extraX = state.boardWidth - state.board.width\n    const extraY = state.boardHeight - state.board.height\n\n    state.boardShiftX = -(extraX / 2)\n    state.boardShiftY = -(extraY / 2)\n  },\n\n  togglePower(state, { rowIx, colIx }) {\n    const sq = state.squares[rowIx][colIx]\n\n    if (sq.cl.indexOf('off') > -1) {\n      sq.cl = sq.cl.replace('off', 'on')\n    } else {\n      sq.cl = sq.cl.replace('on', 'off')\n    }\n  },\n}\n\nconst actions = {\n  loadViewport({ state, commit }, { board }) {\n    state.board = board\n    commit('render')\n  },\n\n  mouseDown({ commit }, { rowIx, colIx }) {\n    let sq = state.squares[rowIx][colIx]\n    if (sq.cl && sq.cl.indexOf('btn') > -1) {\n      return\n    }\n    /**\n     * Don't let wires be drawn that aren't connected to anything.\n     *\n     * Need to figured out initial values for wire direction here.\n     * Look for nearby buttons and lights, and try to optimize\n     * connections to those.\n     */\n    [[0,-1],[0,1],[-1,0],[1,0]].forEach(([rowDiff, colDiff]) => {\n      const row = state.squares[rowIx + rowDiff]\n\n      if (!row) {\n        return\n      }\n\n      sq = row[colIx + colDiff]\n\n      if (!sq) {\n        return\n      }\n\n      let aligns = false\n\n      if (sq.cl && sq.cl.indexOf('btn') > -1) {\n        aligns = true\n      } else if (sq.cl && sq.cl.indexOf('gate') > -1) {\n        /**\n         * A gate output must align with diffs\n         */\n        aligns = sq.outputs.some(({ rowDiff: rd, colDiff: cd }) => rowDiff === -rd && colDiff === -cd)\n      }\n\n      if (aligns) {\n        commit('initializeMousePath', { rowIx, colIx })\n        commit('appendMousePath', {\n          rowIx,\n          colIx,\n          conn: {\n            first: { rowDiff, colDiff },\n            second: findSecond({ rowIx, colIx }) || { rowDiff: -rowDiff, colDiff: -colDiff },\n          },\n        })\n      }\n    })\n  },\n\n  mouseEnter({ state, commit }, { rowIx, colIx }) {\n    if (state.mousePath) {\n      /**\n       * Check for diagonal movement\n       */\n      const stackLength = state.mousePath.stack.length\n\n      if (stackLength) {\n        const {\n          rowIx: lastRowIx,\n          colIx: lastColIx,\n        } = state.mousePath.stack[stackLength - 1]\n\n        /**\n         * Don't allow moves more than 1 square away.\n         * Diagonal squares can be 1 square away.\n         */\n        if (Math.abs(rowIx - lastRowIx) > 1 || Math.abs(colIx - lastColIx) > 1) {\n          return\n        }\n\n        if (rowIx !== lastRowIx && colIx !== lastColIx) {\n          // moved diagonally\n          const rowDiff = lastRowIx - rowIx\n          const colDiff = lastColIx - colIx\n\n          if (!state.squares[rowIx][colIx + colDiff].cl) {\n            commit('appendMousePath', { rowIx, colIx: colIx + colDiff, conn: {} })\n          } else if (!state.squares[rowIx + rowDiff][colIx].cl) {\n            commit('appendMousePath', { rowIx: rowIx + rowDiff, colIx, conn: {} })\n          } else {\n            // TODO termination condition\n          }\n        }\n      }\n\n      commit('appendMousePath', { rowIx, colIx, conn: {} })\n    }\n  },\n\n  mouseUp({ commit }, pos) {\n    if (state.mousePath) {\n      commit('finalizeMousePath')\n    } else if (pos) {\n      const { rowIx, colIx } = pos\n      const sq = state.squares[rowIx][colIx]\n      if (sq.cl && sq.cl.indexOf('btn') > -1) {\n        // power button click\n        commit('togglePower', { rowIx, colIx })\n      }\n    }\n\n    commit('evaluateBoard')\n  },\n\n  nextLevel({ state, commit }) {\n    if (state.currentLevel === levels.length - 1) {\n      alert('You beat the game!')\n      return\n    }\n\n    state.currentLevel += 1\n    commit('render')\n\n    if ([1, 2].indexOf(state.currentLevel)) {\n      setTimeout(() => {\n        alert('Check your toolbox!')\n      }, 100)\n    }\n  },\n\n  pan({ commit }, direction) {\n    commit(`pan${direction}`)\n  },\n\n  removePath({ state, commit }, { rowIx, colIx }) {\n    const clearSquare = ({ rowDiff, colDiff, totalRowDiff, totalColDiff, isFirst }) => {\n      const sq = state.squares[rowIx + totalRowDiff][colIx + totalColDiff]\n\n      if (sq.cl && sq.cl.indexOf('lgt') > -1) {\n        sq.cl = sq.cl.replace('on', 'off')\n        return false\n      }\n\n      if (sq.cl && sq.cl.indexOf('gate') > -1) {\n        if (!isFirst) {\n          /**\n           * `second` indicates that this gate sits at the end of a wire\n           * that just went away.\n           */\n          const input = sq.inputs\n            .find(input => input.rowDiff === -rowDiff && input.colDiff === -colDiff)\n\n          if (input) {\n            input.isOn = false  \n            sq.evaluate()\n          }\n\n          return false\n        } else {\n          Vue.set(state.squares[rowIx + totalRowDiff], colIx + totalColDiff, {})\n\n          sq.inputs.forEach(input => clearSquare({\n            rowDiff: input.rowDiff,\n            colDiff: input.colDiff,\n            totalRowDiff: totalRowDiff + input.rowDiff,\n            totalColDiff: totalColDiff + input.colDiff,\n          }))\n\n          sq.outputs.forEach(output => clearSquare({\n            rowDiff: output.rowDiff,\n            colDiff: output.colDiff,\n            totalRowDiff: totalRowDiff + output.rowDiff,\n            totalColDiff: totalColDiff + output.colDiff,\n          }))\n\n          return true\n        }\n      }\n\n      if (sq.cl && sq.cl.indexOf('wire-nsew') > -1) {\n        if (isFirst) {\n          Vue.set(state.squares[rowIx + totalRowDiff], colIx + totalColDiff, {})\n\n          const offsets = [[0,-1],[0,1],[-1,0],[1,0]]\n\n          offsets.forEach(([rd, cd]) => clearSquare({\n            rowDiff: rd,\n            colDiff: cd,\n            totalRowDiff: totalRowDiff + rd,\n            totalColDiff: totalColDiff + cd,\n          }))\n        } else if (rowDiff !== 0) {\n          /**\n           * Wire vertically adjacent is being wiped.\n           */\n          const isOn = sq.cl.indexOf('horiz-on') > -1\n          sq.cl = `wire-ew-${isOn ? 'on' : 'off'}`\n          /**\n           * Get connection info from square to the left.\n           */\n          const leftSq = state.squares[rowIx + totalRowDiff][colIx + totalColDiff - 1]\n          if (!leftSq.conn || leftSq.conn.second.colDiff === 1) {\n            /**\n             * Square to the left goes left-to-right.\n             * This square should go left-to-right.\n             */\n            sq.conn = {\n              first: { rowDiff: 0, colDiff: -1 },\n              second: { rowDiff: 0, colDiff: 1 },\n            }\n          } else {\n            /**\n             * Square to the left goes right-to-left.\n             * This square should go right-to-left.\n             */\n            sq.conn = {\n              first: { rowDiff: 0, colDiff: 1 },\n              second: { rowDiff: 0, colDiff: -1 },\n            }\n          }\n        } else {\n          /**\n           * Wire horizontally adjacent is being wiped.\n           */\n          const isOn = sq.cl.indexOf('vert-on') > -1\n          sq.cl = `wire-ns-${isOn ? 'on' : 'off'}`\n          /**\n           * Get connection info from square above.\n           */\n          const aboveSq = state.squares[rowIx + totalRowDiff - 1][colIx + totalColDiff]\n          if (!aboveSq.conn || aboveSq.conn.second.rowDiff === 1) {\n            /**\n             * Square above goes top-to-bottom. So should this square.\n             */\n            sq.conn = {\n              first: { rowDiff: -1, colDiff: 0 },\n              second: { rowDiff: 1, colDiff: 0 },\n            }\n          } else {\n            /**\n             * Square above goes bottom-to-top. So should this square.\n             */\n            sq.conn = {\n              first: { rowDiff: 1, colDiff: 0 },\n              second: { rowDiff: -1, colDiff: 0 },\n            }\n          }\n        }\n\n        clearSquare({\n          rowDiff,\n          colDiff,\n          totalRowDiff: totalRowDiff + rowDiff,\n          totalColDiff: totalColDiff + colDiff,\n        })\n\n        return true\n      }\n\n      if (sq.cl && sq.cl.indexOf('wire') > -1) {\n        /**\n         * Make sure the orientation aligns\n         */\n        if (!(isFirst\n          || sq.conn.first.rowDiff === -rowDiff && sq.conn.first.colDiff === -colDiff\n          || sq.conn.second.rowDiff === -rowDiff && sq.conn.second.colDiff === -colDiff)) {\n          return false\n        }\n\n        Vue.set(state.squares[rowIx + totalRowDiff], colIx + totalColDiff, {})\n\n        clearSquare({\n          rowDiff: sq.conn.first.rowDiff,\n          colDiff: sq.conn.first.colDiff,\n          totalRowDiff: totalRowDiff + sq.conn.first.rowDiff,\n          totalColDiff: totalColDiff + sq.conn.first.colDiff,\n        })\n\n        clearSquare({\n          rowDiff: sq.conn.second.rowDiff,\n          colDiff: sq.conn.second.colDiff,\n          totalRowDiff: totalRowDiff + sq.conn.second.rowDiff,\n          totalColDiff: totalColDiff + sq.conn.second.colDiff,\n        })\n\n        return true\n      }\n\n      return false\n    }\n\n    if (clearSquare({ rowDiff: 0, colDiff: 0, totalRowDiff: 0, totalColDiff: 0, isFirst: true })) {\n      /**\n       * Reset scores if something was changed.\n       */\n      const level = levels[state.currentLevel]\n      level.objective.forEach(o => o.score = null)\n\n      commit('evaluateBoard')\n    }\n  },\n\n  async testCase({ state, commit }, { rowIx: objectiveIx }) {\n    const level = levels[state.currentLevel]\n    const test = level.objective[objectiveIx]\n    /**\n     * Set inputs according to `objective`\n     * and check outputs.\n     */\n    let isDiff = false\n\n    const bulbs = []\n\n    state.squares.forEach((row) => {\n      row.forEach((sq) => {\n        if (sq.cl && sq.cl.indexOf('btn') > -1) {\n          // power button\n          /**\n           * Find corresponding input\n           * No color should be used for anything more than once.\n           */\n          const isOn = test.cl.find(o => o.indexOf(sq.cl.substr(0, 3)) > -1).indexOf('on') > -1\n\n          if (isOn !== sq.cl.indexOf('on') > -1) {\n            /**\n             * At least 1 button changed\n             */\n            isDiff = true\n          }\n\n          sq.cl = sq.cl.replace(isOn ? 'off' : 'on', isOn ? 'on' : 'off')\n        } else if (sq.cl && sq.cl.indexOf('lgt') > -1) {\n          // bulb a.k.a. output\n          bulbs.push(sq)\n        }\n      })\n    })\n\n    if (test.score !== null && !isDiff) {\n      return\n    }\n\n    await new Promise(resolve => commit('evaluateBoard', resolve))\n\n    /**\n     * See the evaluated board for a second.\n     */\n    await new Promise(resolve => setTimeout(resolve, 500))\n\n    /**\n     * Animate the drawing of the score.\n     */\n    test.score = null\n    setTimeout(() => {\n      /**\n       * After the board is evaluated,\n       * check the outputs (bulbs).\n       */\n      test.score = bulbs.every((sq) => {\n        const shouldBeOn = test.cl.find(o => o.indexOf(sq.cl.substr(0, 3)) > -1).indexOf('on') > -1\n        return shouldBeOn === (sq.cl.indexOf('on') > -1)\n      })\n    }, 100)\n  },\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions,\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport GameBoard from './modules/GameBoard'\n\nVue.use(Vuex)\n\nconst modules = {\n  GameBoard,\n}\n\nconst store = new Vuex.Store({\n  modules,\n})\n\nObject.keys(modules).forEach((moduleName) => {\n  // Dispatch the init action for each module, if one exists\n  // Module **must** be namespaced for this to work\n  if (modules[moduleName].actions && modules[moduleName].actions.init) {\n    if (modules[moduleName].namespaced) {\n      store.dispatch(`${moduleName}/init`)\n    }\n  }\n})\n\nexport default store\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('board')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"board\",staticClass:\"board\"},[_c('div',{staticClass:\"viewport\",style:(_vm.style),on:{\"mouseup\":function($event){return _vm.mouseUp()}}},_vm._l((_vm.squares),function(row,rowIx){return _c('div',{key:rowIx},_vm._l((row),function(sq,colIx){return _c('square',{key:colIx,attrs:{\"square\":sq},on:{\"mouseDown\":function($event){return _vm.mouseDown({ rowIx: rowIx, colIx: colIx })},\"mouseEnter\":function($event){return _vm.mouseEnter({ sq: sq, rowIx: rowIx, colIx: colIx })},\"mouseLeave\":function($event){return _vm.mouseLeave({ sq: sq })},\"mouseUp\":function($event){return _vm.mouseUp({ rowIx: rowIx, colIx: colIx })},\"rightClick\":function($event){return _vm.rightClick({ rowIx: rowIx, colIx: colIx })}}})}),1)}),0),_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-bar\",on:{\"click\":function($event){return _vm.toggleMenuBar('Toolbox')}}},[_vm._v(\"\\n      Toolbox\\n      \"),(!_vm.menu.isToolboxOpen)?_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/img/caret-down.svg\")}}):_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/img/caret-up.svg\")}})]),(_vm.menu.isToolboxOpen)?_c('div',{staticClass:\"dropdown toolbox\"},_vm._l((_vm.level.tools),function(tool,index){return _c('square',{key:index,attrs:{\"square\":tool},on:{\"mouseDown\":function($event){_vm.currentTool = tool}}})}),1):_vm._e(),_c('div',{staticClass:\"menu-bar\",on:{\"click\":function($event){return _vm.toggleMenuBar('Objective')}}},[_vm._v(\"\\n      Objective\\n      \"),(!_vm.menu.isObjectiveOpen)?_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/img/caret-down.svg\")}}):_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/img/caret-up.svg\")}})]),(_vm.menu.isObjectiveOpen)?_c('div',{staticClass:\"dropdown objective\"},[_c('div',{staticClass:\"dropdown-title\"},[_vm._v(\"\\n        Level \"+_vm._s(_vm.currentLevel + 1)+\": \"+_vm._s(_vm.level.title)+\"\\n      \")]),(!_vm.isComplete)?_c('button',{staticClass:\"test-btn\",on:{\"click\":_vm.testAll}},[_vm._v(\"\\n        Test\\n      \")]):_c('button',{staticClass:\"test-btn nxt-lvl-btn\",on:{\"click\":_vm.nextLevel}},[_vm._v(\"\\n        Next Level\\n      \")]),_vm._l((_vm.level.objective),function(row,rowIx){return _c('div',{key:rowIx,staticClass:\"row\",on:{\"click\":function($event){return _vm.test({ rowIx: rowIx })}}},[_vm._l((row.cl),function(cl,colIx){return _c('div',{key:colIx,staticClass:\"cell\"},[_c('div',{class:cl})])}),(row.score === true)?_c('img',{staticClass:\"score-check\",attrs:{\"src\":require(\"@/assets/img/check.svg\")}}):(row.score === false)?_c('img',{staticClass:\"score-x\",attrs:{\"src\":require(\"@/assets/img/x.svg\")}}):_vm._e()],2)})],2):_vm._e(),_c('div',{staticClass:\"menu-bar\",on:{\"click\":function($event){return _vm.toggleMenuBar('Controls')}}},[_vm._v(\"\\n      Controls\\n      \"),(!_vm.menu.isControlsOpen)?_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/img/caret-down.svg\")}}):_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/img/caret-up.svg\")}})]),(_vm.menu.isControlsOpen)?_c('div',{staticClass:\"dropdown controls\"},[_vm._m(0)]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dropdown-title\"},[_vm._v(\"\\n        Game Controls\\n\\n        \"),_c('div',{staticClass:\"game-control-entry\"},[_c('div',{staticClass:\"game-control-entry-title\"},[_vm._v(\"\\n            Drawing wire\\n          \")]),_c('div',{staticClass:\"game-control-entry-details\"},[_vm._v(\"\\n            To draw wire, press your mouse down on a square that is next to an ouput\\n            and drag it to a square that is next to an input.\\n          \")])]),_c('div',{staticClass:\"game-control-entry\"},[_c('div',{staticClass:\"game-control-entry-title\"},[_vm._v(\"\\n            Toolbox\\n          \")]),_c('div',{staticClass:\"game-control-entry-details\"},[_vm._v(\"\\n            To use a tool from the Toolbox, click it once in the toolbox\\n            and then click the square in which to place it.\\n            Clicking and dragging also works.\\n          \")])]),_c('div',{staticClass:\"game-control-entry\"},[_c('div',{staticClass:\"game-control-entry-title\"},[_vm._v(\"\\n            Objective\\n          \")]),_c('div',{staticClass:\"game-control-entry-details\"},[_vm._v(\"\\n            In the Objective box, you can click a specific test case to see how it performs,\\n            resulting in either a green check or a red X next to the test case.\\n            You can also click \\\"Test\\\" to sequentially run through each test case.\\n            The level is complete when each test case shows a green check beside it.\\n          \")])]),_c('div',{staticClass:\"game-control-entry\"},[_c('div',{staticClass:\"game-control-entry-title\"},[_vm._v(\"\\n            Removing wire and tools\\n          \")]),_c('div',{staticClass:\"game-control-entry-details\"},[_vm._v(\"\\n            Right click on wire or a tool to remove it.\\n          \")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"square\",on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.$emit('rightClick')},\"mousedown\":function($event){$event.preventDefault();return _vm.$emit('mouseDown')},\"mouseenter\":function($event){return _vm.$emit('mouseEnter')},\"mouseleave\":function($event){return _vm.$emit('mouseLeave')},\"mouseup\":function($event){$event.stopPropagation();return _vm.$emit('mouseUp')}}},[(_vm.square.cl === 'grn-btn-off')?_c('img',{attrs:{\"src\":require(\"@/assets/img/grn-btn/off/nsew.svg\")}}):(_vm.square.cl === 'grn-btn-on')?_c('img',{attrs:{\"src\":require(\"@/assets/img/grn-btn/on/nsew.svg\")}}):(_vm.square.cl === 'pnk-btn-off')?_c('img',{attrs:{\"src\":require(\"@/assets/img/pnk-btn/off/nsew.svg\")}}):(_vm.square.cl === 'pnk-btn-on')?_c('img',{attrs:{\"src\":require(\"@/assets/img/pnk-btn/on/nsew.svg\")}}):(_vm.square.cl === 'org-lgt-w-off')?_c('img',{attrs:{\"src\":require(\"@/assets/img/org-lgt/off/w.svg\")}}):(_vm.square.cl === 'org-lgt-w-on')?_c('img',{attrs:{\"src\":require(\"@/assets/img/org-lgt/on/w.svg\")}}):(_vm.square.cl === 'blu-lgt-s-off')?_c('img',{attrs:{\"src\":require(\"@/assets/img/blu-lgt/off/s.svg\")}}):(_vm.square.cl === 'blu-lgt-w-off')?_c('img',{attrs:{\"src\":require(\"@/assets/img/blu-lgt/off/w.svg\")}}):(_vm.square.cl === 'blu-lgt-s-on')?_c('img',{attrs:{\"src\":require(\"@/assets/img/blu-lgt/on/s.svg\")}}):(_vm.square.cl === 'blu-lgt-w-on')?_c('img',{attrs:{\"src\":require(\"@/assets/img/blu-lgt/on/w.svg\")}}):(_vm.square.cl === 'wire-ne-off')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/off/ne.svg\")}}):(_vm.square.cl === 'wire-ns-off')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/off/ns.svg\")}}):(_vm.square.cl === 'wire-nw-off')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/off/nw.svg\")}}):(_vm.square.cl === 'wire-se-off')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/off/se.svg\")}}):(_vm.square.cl === 'wire-sw-off')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/off/sw.svg\")}}):(_vm.square.cl === 'wire-ew-off')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/off/ew.svg\")}}):(_vm.square.cl === 'wire-ne-on')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/on/ne.svg\")}}):(_vm.square.cl === 'wire-ns-on')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/on/ns.svg\")}}):(_vm.square.cl === 'wire-nw-on')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/on/nw.svg\")}}):(_vm.square.cl === 'wire-se-on')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/on/se.svg\")}}):(_vm.square.cl === 'wire-sw-on')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/on/sw.svg\")}}):(_vm.square.cl === 'wire-ew-on')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/on/ew.svg\")}}):(_vm.square.cl === 'wire-nsew-vert-off-horiz-off')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/off/nsew.svg\")}}):(_vm.square.cl === 'wire-nsew-vert-off-horiz-on')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/on/nsew-horiz.svg\")}}):(_vm.square.cl === 'wire-nsew-vert-on-horiz-off')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/on/nsew-vert.svg\")}}):(_vm.square.cl === 'wire-nsew-vert-on-horiz-on')?_c('img',{attrs:{\"src\":require(\"@/assets/img/wire/on/nsew-both.svg\")}}):(_vm.square.cl === 'split-gate-0')?_c('img',{attrs:{\"src\":require(\"@/assets/img/split-gate/0.png\")}}):(_vm.square.cl === 'split-gate-1')?_c('img',{attrs:{\"src\":require(\"@/assets/img/split-gate/1.png\")}}):(_vm.square.cl === 'not-gate-0')?_c('img',{attrs:{\"src\":require(\"@/assets/img/not-gate/0.png\")}}):(_vm.square.cl === 'not-gate-1')?_c('img',{attrs:{\"src\":require(\"@/assets/img/not-gate/1.png\")}}):(_vm.square.cl === 'or-gate-000')?_c('img',{attrs:{\"src\":require(\"@/assets/img/or-gate/000.png\")}}):(_vm.square.cl === 'or-gate-001')?_c('img',{attrs:{\"src\":require(\"@/assets/img/or-gate/001.png\")}}):(_vm.square.cl === 'or-gate-010')?_c('img',{attrs:{\"src\":require(\"@/assets/img/or-gate/010.png\")}}):(_vm.square.cl === 'or-gate-011')?_c('img',{attrs:{\"src\":require(\"@/assets/img/or-gate/011.png\")}}):(_vm.square.cl === 'or-gate-100')?_c('img',{attrs:{\"src\":require(\"@/assets/img/or-gate/100.png\")}}):(_vm.square.cl === 'or-gate-101')?_c('img',{attrs:{\"src\":require(\"@/assets/img/or-gate/101.png\")}}):(_vm.square.cl === 'or-gate-110')?_c('img',{attrs:{\"src\":require(\"@/assets/img/or-gate/110.png\")}}):(_vm.square.cl === 'or-gate-111')?_c('img',{attrs:{\"src\":require(\"@/assets/img/or-gate/111.png\")}}):(_vm.square.cl === 'and-gate-000')?_c('img',{attrs:{\"src\":require(\"@/assets/img/and-gate/000.png\")}}):(_vm.square.cl === 'and-gate-001')?_c('img',{attrs:{\"src\":require(\"@/assets/img/and-gate/001.png\")}}):(_vm.square.cl === 'and-gate-010')?_c('img',{attrs:{\"src\":require(\"@/assets/img/and-gate/010.png\")}}):(_vm.square.cl === 'and-gate-011')?_c('img',{attrs:{\"src\":require(\"@/assets/img/and-gate/011.png\")}}):(_vm.square.cl === 'and-gate-100')?_c('img',{attrs:{\"src\":require(\"@/assets/img/and-gate/100.png\")}}):(_vm.square.cl === 'and-gate-101')?_c('img',{attrs:{\"src\":require(\"@/assets/img/and-gate/101.png\")}}):(_vm.square.cl === 'and-gate-110')?_c('img',{attrs:{\"src\":require(\"@/assets/img/and-gate/110.png\")}}):(_vm.square.cl === 'and-gate-111')?_c('img',{attrs:{\"src\":require(\"@/assets/img/and-gate/111.png\")}}):_c('img',{staticStyle:{\"visibility\":\"hidden\"},attrs:{\"src\":require(\"@/assets/img/blank-square.svg\")}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"square\"\n    @click.right.prevent=\"$emit('rightClick')\"\n    @mousedown.prevent=\"$emit('mouseDown')\"\n    @mouseenter=\"$emit('mouseEnter')\"\n    @mouseleave=\"$emit('mouseLeave')\"\n    @mouseup.stop=\"$emit('mouseUp')\"\n  >\n    <!-- buttons -->\n    <!---- green ---->\n    <img v-if=\"square.cl === 'grn-btn-off'\" src=\"@/assets/img/grn-btn/off/nsew.svg\" />\n    <img v-else-if=\"square.cl === 'grn-btn-on'\" src=\"@/assets/img/grn-btn/on/nsew.svg\" />\n    <!---- pink ---->\n    <img v-else-if=\"square.cl === 'pnk-btn-off'\" src=\"@/assets/img/pnk-btn/off/nsew.svg\" />\n    <img v-else-if=\"square.cl === 'pnk-btn-on'\" src=\"@/assets/img/pnk-btn/on/nsew.svg\" />\n\n    <!-- lights -->\n    <!---- orange ---->\n    <img v-else-if=\"square.cl === 'org-lgt-w-off'\" src=\"@/assets/img/org-lgt/off/w.svg\" />\n    <img v-else-if=\"square.cl === 'org-lgt-w-on'\" src=\"@/assets/img/org-lgt/on/w.svg\" />\n    <!---- blue ---->\n    <img v-else-if=\"square.cl === 'blu-lgt-s-off'\" src=\"@/assets/img/blu-lgt/off/s.svg\" />\n    <img v-else-if=\"square.cl === 'blu-lgt-w-off'\" src=\"@/assets/img/blu-lgt/off/w.svg\" />\n    <img v-else-if=\"square.cl === 'blu-lgt-s-on'\" src=\"@/assets/img/blu-lgt/on/s.svg\" />\n    <img v-else-if=\"square.cl === 'blu-lgt-w-on'\" src=\"@/assets/img/blu-lgt/on/w.svg\" />\n\n    <!-- wires -->\n    <!---- off ---->\n    <img v-else-if=\"square.cl === 'wire-ne-off'\" src=\"@/assets/img/wire/off/ne.svg\" />\n    <img v-else-if=\"square.cl === 'wire-ns-off'\" src=\"@/assets/img/wire/off/ns.svg\" />\n    <img v-else-if=\"square.cl === 'wire-nw-off'\" src=\"@/assets/img/wire/off/nw.svg\" />\n    <img v-else-if=\"square.cl === 'wire-se-off'\" src=\"@/assets/img/wire/off/se.svg\" />\n    <img v-else-if=\"square.cl === 'wire-sw-off'\" src=\"@/assets/img/wire/off/sw.svg\" />\n    <img v-else-if=\"square.cl === 'wire-ew-off'\" src=\"@/assets/img/wire/off/ew.svg\" />\n    <!---- on ---->\n    <img v-else-if=\"square.cl === 'wire-ne-on'\" src=\"@/assets/img/wire/on/ne.svg\" />\n    <img v-else-if=\"square.cl === 'wire-ns-on'\" src=\"@/assets/img/wire/on/ns.svg\" />\n    <img v-else-if=\"square.cl === 'wire-nw-on'\" src=\"@/assets/img/wire/on/nw.svg\" />\n    <img v-else-if=\"square.cl === 'wire-se-on'\" src=\"@/assets/img/wire/on/se.svg\" />\n    <img v-else-if=\"square.cl === 'wire-sw-on'\" src=\"@/assets/img/wire/on/sw.svg\" />\n    <img v-else-if=\"square.cl === 'wire-ew-on'\" src=\"@/assets/img/wire/on/ew.svg\" />\n    <!---- cross ---->\n    <img v-else-if=\"square.cl === 'wire-nsew-vert-off-horiz-off'\" src=\"@/assets/img/wire/off/nsew.svg\" />\n    <img v-else-if=\"square.cl === 'wire-nsew-vert-off-horiz-on'\" src=\"@/assets/img/wire/on/nsew-horiz.svg\" />\n    <img v-else-if=\"square.cl === 'wire-nsew-vert-on-horiz-off'\" src=\"@/assets/img/wire/on/nsew-vert.svg\" />\n    <img v-else-if=\"square.cl === 'wire-nsew-vert-on-horiz-on'\" src=\"@/assets/img/wire/on/nsew-both.svg\" />\n\n    <!-- gates -->\n    <!---- split ---->\n    <img v-else-if=\"square.cl === 'split-gate-0'\" src=\"@/assets/img/split-gate/0.png\" />\n    <img v-else-if=\"square.cl === 'split-gate-1'\" src=\"@/assets/img/split-gate/1.png\" />\n    <!---- not ---->\n    <img v-else-if=\"square.cl === 'not-gate-0'\" src=\"@/assets/img/not-gate/0.png\" />\n    <img v-else-if=\"square.cl === 'not-gate-1'\" src=\"@/assets/img/not-gate/1.png\" />\n    <!---- or ---->\n    <img v-else-if=\"square.cl === 'or-gate-000'\" src=\"@/assets/img/or-gate/000.png\" />\n    <img v-else-if=\"square.cl === 'or-gate-001'\" src=\"@/assets/img/or-gate/001.png\" />\n    <img v-else-if=\"square.cl === 'or-gate-010'\" src=\"@/assets/img/or-gate/010.png\" />\n    <img v-else-if=\"square.cl === 'or-gate-011'\" src=\"@/assets/img/or-gate/011.png\" />\n    <img v-else-if=\"square.cl === 'or-gate-100'\" src=\"@/assets/img/or-gate/100.png\" />\n    <img v-else-if=\"square.cl === 'or-gate-101'\" src=\"@/assets/img/or-gate/101.png\" />\n    <img v-else-if=\"square.cl === 'or-gate-110'\" src=\"@/assets/img/or-gate/110.png\" />\n    <img v-else-if=\"square.cl === 'or-gate-111'\" src=\"@/assets/img/or-gate/111.png\" />\n    <!---- and ---->\n    <img v-else-if=\"square.cl === 'and-gate-000'\" src=\"@/assets/img/and-gate/000.png\" />\n    <img v-else-if=\"square.cl === 'and-gate-001'\" src=\"@/assets/img/and-gate/001.png\" />\n    <img v-else-if=\"square.cl === 'and-gate-010'\" src=\"@/assets/img/and-gate/010.png\" />\n    <img v-else-if=\"square.cl === 'and-gate-011'\" src=\"@/assets/img/and-gate/011.png\" />\n    <img v-else-if=\"square.cl === 'and-gate-100'\" src=\"@/assets/img/and-gate/100.png\" />\n    <img v-else-if=\"square.cl === 'and-gate-101'\" src=\"@/assets/img/and-gate/101.png\" />\n    <img v-else-if=\"square.cl === 'and-gate-110'\" src=\"@/assets/img/and-gate/110.png\" />\n    <img v-else-if=\"square.cl === 'and-gate-111'\" src=\"@/assets/img/and-gate/111.png\" />\n\n    <!-- blank -->\n    <img v-else src=\"@/assets/img/blank-square.svg\" style=\"visibility: hidden\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Square',\n  props: {\n    square: {},\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Square.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Square.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Square.vue?vue&type=template&id=21dcf8b9&\"\nimport script from \"./Square.vue?vue&type=script&lang=js&\"\nexport * from \"./Square.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    ref=\"board\"\n    class=\"board\"\n  >\n    <div\n      class=\"viewport\"\n      :style=\"style\"\n      @mouseup=\"mouseUp()\"\n    >\n      <div\n        :key=\"rowIx\"\n        v-for=\"(row, rowIx) in squares\"\n      >\n        <square\n          :key=\"colIx\"\n          v-for=\"(sq, colIx) in row\"\n          :square=\"sq\"\n          @mouseDown=\"mouseDown({ rowIx, colIx })\"\n          @mouseEnter=\"mouseEnter({ sq, rowIx, colIx })\"\n          @mouseLeave=\"mouseLeave({ sq })\"\n          @mouseUp=\"mouseUp({ rowIx, colIx })\"\n          @rightClick=\"rightClick({ rowIx, colIx })\"\n        />\n      </div>\n    </div>\n\n    <div class=\"menu\">\n      <div\n        class=\"menu-bar\"\n        @click=\"toggleMenuBar('Toolbox')\"\n      >\n        Toolbox\n        <img class=\"icon\" v-if=\"!menu.isToolboxOpen\" src=\"@/assets/img/caret-down.svg\" />\n        <img class=\"icon\" v-else src=\"@/assets/img/caret-up.svg\" />\n      </div>\n      <div v-if=\"menu.isToolboxOpen\" class=\"dropdown toolbox\">\n        <square\n          :key=\"index\"\n          v-for=\"(tool, index) in level.tools\"\n          :square=\"tool\"\n          @mouseDown=\"currentTool = tool\"\n        />\n      </div>\n\n      <div\n        class=\"menu-bar\"\n        @click=\"toggleMenuBar('Objective')\"\n      >\n        Objective\n        <img class=\"icon\" v-if=\"!menu.isObjectiveOpen\" src=\"@/assets/img/caret-down.svg\" />\n        <img class=\"icon\" v-else src=\"@/assets/img/caret-up.svg\" />\n      </div>\n      <div v-if=\"menu.isObjectiveOpen\" class=\"dropdown objective\">\n        <div class=\"dropdown-title\">\n          Level {{ currentLevel + 1 }}: {{ level.title }}\n        </div>\n\n        <button\n          v-if=\"!isComplete\"\n          class=\"test-btn\"\n          @click=\"testAll\">\n          Test\n        </button>\n\n        <button\n          v-else\n          class=\"test-btn nxt-lvl-btn\"\n          @click=\"nextLevel\">\n          Next Level\n        </button>\n\n        <div\n          :key=\"rowIx\"\n          v-for=\"(row, rowIx) in level.objective\"\n          class=\"row\"\n          @click=\"test({ rowIx })\"\n        >\n          <div\n            :key=\"colIx\"\n            v-for=\"(cl, colIx) in row.cl\"\n            class=\"cell\"\n          >\n            <div :class=\"cl\" />\n          </div>\n\n          <img class=\"score-check\" v-if=\"row.score === true\" src=\"@/assets/img/check.svg\" />\n\n          <img class=\"score-x\" v-else-if=\"row.score === false\" src=\"@/assets/img/x.svg\" />\n        </div>\n      </div>\n\n      <div\n        class=\"menu-bar\"\n        @click=\"toggleMenuBar('Controls')\"\n      >\n        Controls\n        <img class=\"icon\" v-if=\"!menu.isControlsOpen\" src=\"@/assets/img/caret-down.svg\" />\n        <img class=\"icon\" v-else src=\"@/assets/img/caret-up.svg\" />\n      </div>\n      <div v-if=\"menu.isControlsOpen\" class=\"dropdown controls\">\n        <div class=\"dropdown-title\">\n          Game Controls\n\n          <div class=\"game-control-entry\">\n            <div class=\"game-control-entry-title\">\n              Drawing wire\n            </div>\n            <div class=\"game-control-entry-details\">\n              To draw wire, press your mouse down on a square that is next to an ouput\n              and drag it to a square that is next to an input.\n            </div>\n          </div>\n\n          <div class=\"game-control-entry\">\n            <div class=\"game-control-entry-title\">\n              Toolbox\n            </div>\n            <div class=\"game-control-entry-details\">\n              To use a tool from the Toolbox, click it once in the toolbox\n              and then click the square in which to place it.\n              Clicking and dragging also works.\n            </div>\n          </div>\n\n          <div class=\"game-control-entry\">\n            <div class=\"game-control-entry-title\">\n              Objective\n            </div>\n            <div class=\"game-control-entry-details\">\n              In the Objective box, you can click a specific test case to see how it performs,\n              resulting in either a green check or a red X next to the test case.\n              You can also click \"Test\" to sequentially run through each test case.\n              The level is complete when each test case shows a green check beside it.\n            </div>\n          </div>\n\n          <div class=\"game-control-entry\">\n            <div class=\"game-control-entry-title\">\n              Removing wire and tools\n            </div>\n            <div class=\"game-control-entry-details\">\n              Right click on wire or a tool to remove it.\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\n\nimport { mapState, mapActions } from 'vuex'\n\nimport Square from './Square'\n\nexport default {\n  name: 'Board',\n  components: {\n    Square,\n  },\n  data() {\n    return {\n      currentSquare: null,\n      currentTool: null,\n      isCtrl: false,\n      menu: {\n        isControlsOpen: false,\n        isObjectiveOpen: false,\n        isToolboxOpen: false,\n      }\n    }\n  },\n  computed: {\n    ...mapState('GameBoard', [\n      'boardHeight',\n      'boardShiftX',\n      'boardShiftY',\n      'boardWidth',\n      'currentLevel',\n      'isLoading',\n      'squares',\n      'level',\n    ]),\n    isComplete() {\n      return this.level.objective.every(o => o.score === true)\n    },\n    style() {\n      const shift = `left: ${this.boardShiftX}px; top: ${this.boardShiftY}px`\n      if (this.boardWidth && this.boardHeight) {\n        return `${shift}; width: ${this.boardWidth}px; height: ${this.boardHeight}px`\n      }\n      return shift\n    },\n  },\n  created() {\n    document.addEventListener('keydown', this.keyDown)\n  },\n  beforeDestroy() {\n    document.removeEventListener('keydown', this.keyDown)\n  },\n  mounted() {\n    const board = this.$refs.board.getBoundingClientRect()\n\n    this.loadViewport({\n      board,\n    })\n  },\n  methods: {\n    ...mapActions('GameBoard', [\n      'loadViewport',\n      // 'mouseDown',\n      // 'mouseEnter',\n      // 'mouseUp',\n      'nextLevel',\n      'pan',\n      'testCase',\n    ]),\n    keyDown(ev) {\n      if (['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'].indexOf(ev.key) > -1) {\n        ev.preventDefault()\n        this.pan(ev.key.substring('Arrow'.length))\n      }\n    },\n    mouseDown({ rowIx, colIx }) {\n      if (!this.currentTool) {\n        this.$store.dispatch('GameBoard/mouseDown', { rowIx, colIx })\n      }\n    },\n    mouseEnter({ sq, rowIx, colIx }) {\n      this.currentSquare = sq\n\n      if (this.currentTool) {\n        if (!sq.cl) {\n          Vue.set(sq, 'cl', this.currentTool.cl)\n          sq.tmp = true\n        }\n      } else {\n        this.$store.dispatch('GameBoard/mouseEnter', { rowIx, colIx })\n      }\n    },\n    mouseLeave({ sq }) {\n      if (this.currentTool && sq.tmp) {\n        sq.cl = undefined\n        sq.tmp = undefined\n      }\n    },\n    mouseUp(pos) {\n      if (this.currentTool) {\n        /**\n         * Check that nothing is being overwritten.\n         */\n        if (this.currentSquare.tmp) {\n          Object.assign(this.currentSquare, this.currentTool.create(), { tmp: false })\n          this.currentTool = null\n          this.menu.isToolboxOpen = false\n        }\n      } else {\n        this.$store.dispatch('GameBoard/mouseUp', pos)\n      }\n    },\n    rightClick({ rowIx, colIx }) {\n      this.$store.dispatch('GameBoard/removePath', { rowIx, colIx })\n    },\n    scroll(ev) {\n      const thresh = 10\n\n      if (ev.deltaX > thresh) {\n        this.pan('Right')\n      } else if (ev.deltaX < -thresh) {\n        this.pan('Left')\n      }\n\n      if (ev.deltaY > thresh) {\n        this.pan('Down')\n      } else if (ev.deltaY < -thresh) {\n        this.pan('Up')\n      }\n    },\n    async test({ rowIx }) {\n      this.toggleMenuBar('Objective')\n      await this.testCase({ rowIx })\n      this.toggleMenuBar('Objective')\n    },\n    async testAll() {\n      /**\n       * Reset all previous scores.\n       */\n      this.level.objective.forEach(o => o.score = null)\n\n      /**\n       * Run each test sequentially\n       */\n      for (let rowIx = 0; rowIx < this.level.objective.length; ++rowIx) {\n        await this.test({ rowIx })\n        await new Promise(resolve => setTimeout(resolve, 1000))\n      }\n    },\n    toggleMenuBar(k) {\n      Object.keys(this.menu).forEach((key) => {\n        if (key.indexOf(k) > -1) {\n          this.menu[key] = !this.menu[key]\n        } else {\n          this.menu[key] = false\n        }\n      })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Board.vue?vue&type=template&id=7c0c3e5a&\"\nimport script from \"./Board.vue?vue&type=script&lang=js&\"\nexport * from \"./Board.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <board />\n  </div>\n</template>\n\n<script>\nimport Board from './components/board/Board.vue'\n\nexport default {\n  name: 'app',\n  components: {\n    Board,\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import 'assets/styles/main';\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=f95d6268&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport store from './store'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n  store,\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/1.afb01f3d.png\";","module.exports = __webpack_public_path__ + \"img/w.347e1656.svg\";","module.exports = __webpack_public_path__ + \"img/nsew.7ecab417.svg\";","module.exports = __webpack_public_path__ + \"img/101.5f6fb28b.png\";","module.exports = __webpack_public_path__ + \"img/check.edbf451e.svg\";","module.exports = __webpack_public_path__ + \"img/100.be46fb70.png\";","module.exports = __webpack_public_path__ + \"img/ew.8725fb9d.svg\";","module.exports = __webpack_public_path__ + \"img/000.61416d7c.png\";","module.exports = __webpack_public_path__ + \"img/010.b553ed61.png\";","module.exports = __webpack_public_path__ + \"img/s.74bb1efc.svg\";","module.exports = __webpack_public_path__ + \"img/sw.24543d41.svg\";","module.exports = __webpack_public_path__ + \"img/x.c02832d1.svg\";","module.exports = __webpack_public_path__ + \"img/nsew.a0d18b54.svg\";","module.exports = __webpack_public_path__ + \"img/w.6ec49ef9.svg\";","module.exports = __webpack_public_path__ + \"img/nsew.eaff973e.svg\";","module.exports = __webpack_public_path__ + \"img/ns.60af8350.svg\";","module.exports = __webpack_public_path__ + \"img/110.7e6e7454.png\";","module.exports = __webpack_public_path__ + \"img/ns.8348feb8.svg\";","module.exports = __webpack_public_path__ + \"img/111.ad3e09a6.png\";","module.exports = __webpack_public_path__ + \"img/010.cf01e75a.png\";","module.exports = __webpack_public_path__ + \"img/011.c130b14b.png\";","module.exports = __webpack_public_path__ + \"img/001.a8735414.png\";","module.exports = __webpack_public_path__ + \"img/0.ec775a10.png\";","module.exports = __webpack_public_path__ + \"img/101.d3bd42b5.png\";","module.exports = __webpack_public_path__ + \"img/se.1bb4039d.svg\";","module.exports = __webpack_public_path__ + \"img/001.ee280d0e.png\";","module.exports = __webpack_public_path__ + \"img/w.5af1fc77.svg\";","module.exports = __webpack_public_path__ + \"img/se.e05c1149.svg\";","module.exports = __webpack_public_path__ + \"img/ne.8c1f47d7.svg\";","module.exports = __webpack_public_path__ + \"img/caret-down.bd944b76.svg\";","module.exports = __webpack_public_path__ + \"img/nsew-vert.ac86fe87.svg\";","module.exports = __webpack_public_path__ + \"img/110.757c9e94.png\";","module.exports = __webpack_public_path__ + \"img/s.eeea1cec.svg\";","module.exports = __webpack_public_path__ + \"img/000.a2cbfd11.png\";","module.exports = __webpack_public_path__ + \"img/blank-square.acc0f9b6.svg\";","module.exports = __webpack_public_path__ + \"img/ne.ee5a70f4.svg\";","module.exports = __webpack_public_path__ + \"img/011.b4279f5d.png\";"],"sourceRoot":""}